[{"title":"Spring Boot","date":"2022-01-01T01:01:01.000Z","date_formatted":{"ll":"2022å¹´1æœˆ1æ—¥","L":"2022/01/01","MM-DD":"01-01"},"updated":"2021-10-17T06:44:36.622Z","content":"èµ„æ–™\næ–‡æ¡£\n\nSpring Boot å‚è€ƒæ–‡æ¡£\n\nGetting Startedï¼ˆå…¥é—¨ï¼‰\nDeveloping with Spring Bootï¼ˆä½¿ç”¨ Spring Boot å¼€å‘ï¼‰\nSpring Boot ç‰¹æ€§\n\næºç \nspring-projects/spring-boot at v2.5.4\nSpring Boot Plus\nå‘ç°ä¸€ä¸ªå¥½ç©çš„ï¼Œæ²¡æ¥å¾—åŠç ”ç©¶ï¼šspring-boot-plus\nä¸»è¦ç‰¹æ€§\n\né›†æˆspring boot å¸¸ç”¨å¼€å‘ç»„ä»¶é›†ã€å…¬å…±é…ç½®ã€AOPæ—¥å¿—ç­‰\nMavenå¤šæ¨¡å—æ¶æ„\né›†æˆmybatis pluså¿«é€Ÿdaoæ“ä½œ\nå¿«é€Ÿç”Ÿæˆåå°ä»£ç : entity/param/vo/controller/service/mapper/xml\né›†æˆSwagger/Knife4jï¼Œå¯è‡ªåŠ¨ç”Ÿæˆapiæ–‡æ¡£\né›†æˆjwtã€shiroæƒé™æ§åˆ¶\né›†æˆRedisç¼“å­˜\né›†æˆHikariCPè¿æ¥æ± ï¼ŒJDBCæ€§èƒ½å’Œæ…¢æŸ¥è¯¢æ£€æµ‹\né›†æˆspring boot adminï¼Œå®æ—¶æ£€æµ‹é¡¹ç›®è¿è¡Œæƒ…å†µ\nä½¿ç”¨assembly mavenæ’ä»¶è¿›è¡Œä¸åŒç¯å¢ƒæ‰“åŒ…éƒ¨ç½²,åŒ…å«å¯åŠ¨ã€é‡å¯å‘½ä»¤ï¼Œé…ç½®æ–‡ä»¶æå–åˆ°å¤–éƒ¨configç›®å½•\n\nå¯åŠ¨æµç¨‹\n\næ¦‚è¿°\nä»€ä¹ˆæ˜¯ Spring Bootï¼Ÿ\nSpring Boot æ˜¯ Spring å¼€æºç»„ç»‡ä¸‹çš„å­é¡¹ç›®ï¼Œæ˜¯ Spring ç»„ä»¶ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æ˜¯ç®€åŒ–äº†ä½¿ç”¨\nSpring çš„éš¾åº¦ï¼Œç®€çœäº†ç¹é‡çš„é…ç½®ï¼Œæä¾›äº†å„ç§å¯åŠ¨å™¨ï¼Œå¼€å‘è€…èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚\nSpring Boot æœ‰å“ªäº›ä¼˜ç‚¹ï¼Ÿ\nSpring Boot ä¸»è¦æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š\n\nå®¹æ˜“ä¸Šæ‰‹ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œä¸º Spring å¼€å‘æä¾›ä¸€ä¸ªæ›´å¿«ã€æ›´å¹¿æ³›çš„å…¥é—¨ä½“éªŒã€‚\nå¼€ç®±å³ç”¨ï¼Œè¿œç¦»ç¹ççš„é…ç½®ã€‚\næä¾›äº†ä¸€ç³»åˆ—å¤§å‹é¡¹ç›®é€šç”¨çš„éä¸šåŠ¡æ€§åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå†…åµŒæœåŠ¡å™¨ã€å®‰å…¨ç®¡ç†ã€è¿è¡Œæ•°æ®ç›‘æ§ã€è¿è¡Œ\nçŠ¶å†µæ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®ç­‰ã€‚\næ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¹Ÿä¸éœ€è¦XMLé…ç½®ã€‚\né¿å…å¤§é‡çš„ Maven å¯¼å…¥å’Œå„ç§ç‰ˆæœ¬å†²çªã€‚\n\næ—¶ä»£èƒŒæ™¯\nå¾®æœåŠ¡\nJames Lewis and Martin Fowler (2014) æå‡ºå¾®æœåŠ¡å®Œæ•´æ¦‚å¿µï¼šMicroservices Guideã€‚è¯‘æ–‡ï¼šå¾®æœåŠ¡ï½œYYGCuiâ€™s blog\n\n\nå¾®æœåŠ¡æ˜¯ä¸€ç§æ¶æ„é£æ ¼\n\n\nä¸€ä¸ªåº”ç”¨æ‹†åˆ†ä¸ºä¸€ç»„å°å‹æœåŠ¡\n\n\næ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹å†…ï¼Œä¹Ÿå°±æ˜¯å¯ç‹¬ç«‹éƒ¨ç½²å’Œå‡çº§\n\n\næœåŠ¡ä¹‹é—´ä½¿ç”¨è½»é‡çº§HTTPäº¤äº’\n\n\næœåŠ¡å›´ç»•ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†\n\n\nå¯ä»¥ç”±å…¨è‡ªåŠ¨éƒ¨ç½²æœºåˆ¶ç‹¬ç«‹éƒ¨ç½²\n\n\nå»ä¸­å¿ƒåŒ–ï¼ŒæœåŠ¡è‡ªæ²»ã€‚æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€ã€ä¸åŒçš„å­˜å‚¨æŠ€æœ¯ã€‚\n\n\nåˆ†å¸ƒå¼\n\nåˆ†å¸ƒå¼å¸¦æ¥äº†æ–°çš„å›°éš¾ï¼š\n\n\nè¿œç¨‹è°ƒç”¨\n\n\næœåŠ¡å‘ç°\n\n\nè´Ÿè½½å‡è¡¡\n\n\næœåŠ¡å®¹é”™\n\n\né…ç½®ç®¡ç†\n\n\næœåŠ¡ç›‘æ§\n\n\né“¾è·¯è¿½è¸ª\n\n\næ—¥å¿—ç®¡ç†\n\n\nä»»åŠ¡è°ƒåº¦\n\n\nâ€¦\n\n\n\nå‘ç°å®è—ğŸ˜ï¼šå‡¤å‡°æ¶æ„ï¼šæ„ç­‘å¯é çš„å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿ | å‡¤å‡°æ¶æ„\n\näº‘åŸç”Ÿ\nä¸Šäº‘çš„å›°éš¾ï¼š\n\n\næœåŠ¡è‡ªæ„ˆ\n\n\nå¼¹æ€§ä¼¸ç¼©\n\n\næœåŠ¡éš”ç¦»\n\n\nè‡ªåŠ¨åŒ–éƒ¨ç½²\n\n\nç°åº¦å‘å¸ƒ\n\n\næµé‡æ²»ç†\n\n\nâ€¦\n\n\n\nå…¥é—¨\nHello World\n1234567891011121314&lt;parent&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;    &lt;version&gt;2.5.4&lt;/version&gt;    &lt;relativePath/&gt; &lt;!-- lookup parent from repository(ä»å­˜å‚¨åº“ä¸­æŸ¥æ‰¾çˆ¶é¡¹) --&gt;&lt;/parent&gt;&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;\n12345678910// com/example/springboot/SpringbootReviewApplication.java@SpringBootApplicationpublic class SpringbootReviewApplication &#123;    public static void main(String[] args) &#123;        SpringApplication.run(SpringbootReviewApplication.class, args);    &#125;&#125;\n1234567891011// com/example/springboot/controller/HelloController.java@RestController@RequestMapping(&quot;/&quot;)public class HelloController &#123;    @RequestMapping(&quot;/hello&quot;)    public String hello()&#123;        return &quot; Hello Spring Boot ! &quot;;    &#125;&#125;\nå¯åŠ¨å¼•å¯¼ç±»ï¼š\n\n\nèµ·æ­¥ä¾èµ–\nSpringBoot é¡¹ç›®çˆ¶å·¥ç¨‹çš„çˆ¶å·¥ç¨‹spring-boot-dependencies-2.5.4.pom å®šä¹‰äº†å¸¸ç”¨ä¾èµ–åŠç‰ˆæœ¬ï¼Œå¹¶é¿å…äº†å†²çªï¼š\n\né…ç½®\né…ç½®æ–‡ä»¶åˆ†ç±»\nSpringBootæ˜¯åŸºäºçº¦å®šçš„ï¼Œæ‰€ä»¥å¾ˆå¤šé…ç½®éƒ½æœ‰é»˜è®¤å€¼ï¼Œä½†å¦‚æœæƒ³ä½¿ç”¨è‡ªå·±çš„é…ç½®æ›¿æ¢é»˜è®¤é…ç½®çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨application.properties æˆ–è€…application.yml (æˆ– application.yaml) è¿›è¡Œé…ç½®ã€‚\nä¼˜å…ˆçº§ï¼šproperties &gt; yml &gt; yaml\nyaml åŸºæœ¬è¯­æ³•\nå‚è€ƒï¼šYAML å…¥é—¨æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹\nè¯»å–é…ç½®æ–‡ä»¶\n\n\n@Value\nå•ä¸ªå±æ€§æ³¨å…¥ï¼Œæ•°é‡å°‘æ¯”è¾ƒæ–¹ä¾¿\n\n\nEnvironment\næ³¨å…¥è·å–æ­¤å¯¹è±¡ï¼Œé€šè¿‡æ­¤å¯¹è±¡çš„æ–¹æ³•æ¥è·å–å€¼\n\n\n@ConfigurationProperties\nå¯ä»¥å°†é…ç½®æ–‡ä»¶ç›´æ¥æ˜ å°„æˆä¸€ä¸ªå®ä½“ç±»\n\n\n12345678910111213141516171819# application.ymlserver:  port: 8083cyx:  name: chenyuxi  age: 19  address:    - beijing    - shanghai    - changsha    - guangzhou    - hangzhou# çº¯é‡msg1: &#x27;hello \\n world&#x27; #ä¸ä¼šè¯†åˆ«è½¬ä¹‰å­—ç¬¦msg2: &quot;hello \\n world&quot; #ä¼šè¯†åˆ«è½¬ä¹‰å­—ç¬¦\n1234567891011121314// Cyx.java@Data@AllArgsConstructor@NoArgsConstructor@Component@ConfigurationProperties(prefix = &quot;cyx&quot;)public class Cyx &#123;    private String name;    private int age;    private String[] address;&#125;\n12345678910111213141516171819202122232425262728293031323334353637383940@RestController@RequestMapping(&quot;/&quot;)public class HelloController &#123;    @Value(&quot;$&#123;cyx.name&#125;&quot;)    private String name;    @Value(&quot;$&#123;cyx.age&#125;&quot;)    private String age;    @Value(&quot;$&#123;cyx.address[0]&#125;&quot;)    private String address;    @Value(&quot;$&#123;msg1&#125;&quot;)    private String msg1;    @Value(&quot;$&#123;msg2&#125;&quot;)    private String msg2;    private final Cyx cyx;    private final Environment environment;    public HelloController(Environment environment, Cyx cyx) &#123;        this.environment = environment;        this.cyx = cyx;    &#125;    @RequestMapping(&quot;/hello&quot;)    public String hello() &#123;        System.out.println(&quot;name = &quot; + name);        System.out.println(&quot;age = &quot; + age);        System.out.println(&quot;address = &quot; + address);        System.out.println(&quot;msg1 = &quot; + msg1);        System.out.println(&quot;msg2 = &quot; + msg2);        System.out.println(&quot;---------------------------------&quot;);        System.out.println(environment.getProperty(&quot;cyx.name&quot;));        System.out.println(environment.getProperty(&quot;cyx.address[0]&quot;));        System.out.println(&quot;---------------------------------&quot;);        System.out.println(&quot;cyx = &quot; + cyx);        return &quot;hello&quot;;    &#125;&#125;\noutputï¼š\n1234567891011name = chenyuxiage = 19address = beijingmsg1 = hello \\n worldmsg2 = hello  world---------------------------------chenyuxibeijing---------------------------------cyx = Cyx(name=chenyuxi, age=19, address=[beijing, shanghai, changsha, guangzhou, hangzhou])\nåœ¨ä¸Šé¢ä¾‹å­ä¸­ï¼Œä½¿ç”¨äº†@ConfigurationPropertiesæ³¨è§£ï¼Œå¯ä»¥ä½¿é…ç½®è‡ªåŠ¨æ˜ å°„æˆå®ä½“ç±»ã€‚\næœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼š\n\n\nå¼•å…¥é…ç½®å¤„ç†å™¨ä¾èµ–ï¼š\n1234&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;&lt;/dependency&gt;\n\n\nå®ä½“ç±»éœ€è¦åŠ ä¸Šæ³¨è§£ï¼š@Component\n\n\n@ConfigurationProperties(prefix = &quot;cyx&quot;) å¯ä»¥æŒ‡å®šå‰ç¼€ï¼Œå¦‚æœé…ç½®æœ‰å‰ç¼€å¿…é¡»æŒ‡å®šã€‚\n\n\nprofile ï¼ˆåŠ¨æ€åˆ‡æ¢é…ç½®ï¼‰\næˆ‘ä»¬åœ¨å¼€å‘Spring Bootåº”ç”¨æ—¶ï¼Œé€šå¸¸åŒä¸€å¥—ç¨‹åºä¼šè¢«å®‰è£…åˆ°ä¸åŒç¯å¢ƒï¼Œæ¯”å¦‚ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç­‰ã€‚å…¶ä¸­æ•°æ®åº“åœ°å€ã€æœåŠ¡å™¨ç«¯å£ç­‰ç­‰é…ç½®éƒ½ä¸åŒï¼Œå¦‚æœæ¯æ¬¡æ‰“åŒ…æ—¶ï¼Œéƒ½è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆéå¸¸éº»çƒ¦ã€‚profile åŠŸèƒ½å°±æ˜¯æ¥è¿›è¡ŒåŠ¨æ€é…ç½®åˆ‡æ¢çš„ã€‚\nprofile é…ç½®æ–¹å¼\nå¤šprofileæ–‡ä»¶æ–¹å¼\n\nyml å¤šæ–‡æ¡£æ–¹å¼\n\nprofile æ¿€æ´»æ–¹å¼\né…ç½®æ–‡ä»¶\nå¦‚ä¸Šã€‚\nè™šæ‹Ÿæœºå‚æ•°\n-Dspring.profiles.active=test\n\nå‘½ä»¤è¡Œå‚æ•°\n--spring.profiles.active=pro\n\nå†…éƒ¨é…ç½®åŠ è½½é¡ºåº\nSpringbootç¨‹åºå¯åŠ¨æ—¶ï¼Œä¼šä»ä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®æ–‡ä»¶ï¼š\n\nfile:/config/:å½“å‰é¡¹ç›®ä¸‹çš„/configç›®å½•ä¸‹\nfile:/:å½“å‰é¡¹ç›®çš„æ ¹ç›®å½•\nclasspath:/config/ï¼šclasspathçš„/config ç›®å½•\nclasspath:/ï¼šclasspathçš„æ ¹ç›®å½•\n\nåŠ è½½é¡ºåºä¸ºä¸Šæ–‡çš„æ’åˆ—é¡ºåºï¼Œé«˜ä¼˜å…ˆçº§é…ç½®çš„å±æ€§ä¼šç”Ÿæ•ˆ\nå¤–éƒ¨é…ç½®åŠ è½½é¡ºåº\nSpring Boot å…è®¸ä½ ä»å¤–éƒ¨åŠ è½½é…ç½®ï¼Œè¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨ç›¸åŒçš„ä»£ç ã€‚æ”¯æŒçš„å¤–éƒ¨é…ç½®æºåŒ…æ‹¬ï¼šJavaå±æ€§æ–‡ä»¶ã€YAMLæ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œå‚æ•°ã€‚\nå‚è€ƒï¼š\n\nSpring Boot åŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶ - åºŸç‰©å¤§å¸ˆå…„ - åšå®¢å›­\n2.å¤–éƒ¨é…ç½® - Spring Boot ç‰¹æ€§\n\nå®¹å™¨åŠŸèƒ½æ³¨è§£\nç»„ä»¶æ·»åŠ \n@Configurationã€@Beanã€@ComponentScan\n@Configuration æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œç›¸å½“äºæŠŠè¯¥ç±»ä½œä¸º spring çš„ xml é…ç½®æ–‡ä»¶ä¸­çš„ &lt;beans&gt;ï¼Œä½œç”¨ä¸ºï¼šé…ç½® spring å®¹å™¨ (åº”ç”¨ä¸Šä¸‹æ–‡)ã€‚é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯ç»„ä»¶ã€‚\n@Configuration(proxyBeanMethods = &#123;boolean&#125;)ï¼š\n\n\n Full(proxyBeanMethods = true) ã€ä¿è¯æ¯ä¸ª@Bean æ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯å•å®ä¾‹çš„ã€‘\n\n\n\n Lite(proxyBeanMethods = false)ã€æ¯ä¸ª@Bean æ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯æ–°åˆ›å»ºçš„ã€‘\n\n\n\n ç»„ä»¶ä¾èµ–å¿…é¡»ä½¿ç”¨Fullæ¨¡å¼ã€é»˜è®¤ã€‘ã€‚\n\n\n\né…ç½®ç±»é‡Œé¢ä½¿ç”¨ @Bean æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šç»™å®¹å™¨æ³¨å†Œç»„ä»¶ï¼Œä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idï¼Œé»˜è®¤æ˜¯å•å®ä¾‹çš„ã€‚\n12345678@Configuration(proxyBeanMethods = true)public class MyConfig &#123;    @Bean    public User user01()&#123;        User zhangsan = new User(&quot;zhangsan&quot;, 18);        return zhangsan;    &#125;&#125;\n@ComponentScan ç›¸å½“äº &lt;context:component-scan&gt;ã€‚\nå¯ä»¥æŒ‡å®š basePackageClasses() æˆ– basePackages()ï¼ˆæˆ–å…¶åˆ«å value()ï¼‰æ¥å®šä¹‰è¦æ‰«æçš„ç‰¹å®šåŒ…ã€‚å¦‚æœæ²¡æœ‰å®šä¹‰ç‰¹å®šçš„åŒ…ï¼Œå°†ä»å£°æ˜è¯¥æ³¨è§£çš„ç±»çš„åŒ…å¼€å§‹æ‰«æã€‚\n@Componentã€@Controllerã€@Serviceã€@Repository\n\n\næ³¨è§£\nå«ä¹‰\n\n\n\n\n@Component\næœ€æ™®é€šçš„ç»„ä»¶ï¼Œå¯ä»¥è¢«æ³¨å…¥åˆ° spring å®¹å™¨è¿›è¡Œç®¡ç†\n\n\n@Repository\nä½œç”¨äºæŒä¹…å±‚\n\n\n@Service\nä½œç”¨äºä¸šåŠ¡é€»è¾‘å±‚\n\n\n@Controller\nä½œç”¨äºè¡¨ç°å±‚ï¼ˆspring-mvc çš„æ³¨è§£ï¼‰\n\n\n@Import\nä½¿ç”¨@Importå¯¼å…¥çš„ç±»ä¼šè¢«SpringåŠ è½½åˆ°IOCå®¹å™¨ä¸­ï¼Œé»˜è®¤ç»„ä»¶çš„åå­—å°±æ˜¯å…¨ç±»åã€‚\n@Importæä¾›4ç§ç”¨æ³•ï¼š\nâ‘  å¯¼å…¥Bean\nâ‘¡ å¯¼å…¥é…ç½®ç±»\nâ‘¢ å¯¼å…¥ ImportSelector å®ç°ç±»ã€‚ä¸€èˆ¬ç”¨äºåŠ è½½é…ç½®æ–‡ä»¶ä¸­çš„ç±»\nâ‘£ å¯¼å…¥ ImportBeanDefinitionRegistrar å®ç°ç±»ã€‚\n@Condition\n\næ€è€ƒï¼šSpringBootæ˜¯å¦‚ä½•çŸ¥é“è¦åˆ›å»ºå“ªä¸ªBeançš„ï¼Ÿ\nä¸ºä»€ä¹ˆå¯¼å…¥äº†spring-boot-starter-data-redisåŒ…ï¼ŒSpringBootå°±è‡ªåŠ¨åˆ›å»ºäº†Redis ç›¸å…³çš„Beanï¼ˆå¦‚RedisTemplateï¼‰å‘¢ï¼Ÿ\n\n@Condition æ˜¯åœ¨ Spring4.0 å¢åŠ çš„æ¡ä»¶åˆ¤æ–­åŠŸèƒ½ï¼Œé€šè¿‡è¿™ä¸ªæ³¨è§£å¯ä»¥åŠ¨æ€åœ°å†³å®šæ˜¯å¦è¦åˆ›å»ºæŸä¸ªBeanï¼Œåœ¨æ»¡è¶³æŒ‡å®šæ¡ä»¶çš„æ—¶å€™æ‰å°†æŸä¸ª bean åŠ è½½åˆ°åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ã€‚\næ›´å¤šå‚è€ƒï¼šSpring Boot @Condition æ³¨è§£ï¼Œç»„åˆæ¡ä»¶ä½ çŸ¥é“å— - æ˜é‡‘\nåŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥\n@ImportResource\n@ImportResource(&quot;classpath:beans.xml&quot;)\né€šè¿‡ locations å±æ€§åŠ è½½å¯¹åº”çš„ xml é…ç½®æ–‡ä»¶ï¼ŒåŒæ—¶éœ€è¦é…åˆ @Configuration æ³¨è§£ä¸€èµ·ä½¿ç”¨ï¼Œå®šä¹‰ä¸ºé…ç½®ç±»ã€‚\nè‡ªåŠ¨è£…é…\nå‚è€ƒï¼š\n\næ·˜å®ä¸€é¢ï¼šâ€œè¯´ä¸€ä¸‹ Spring Boot è‡ªåŠ¨è£…é…åŸç†å‘—ï¼Ÿâ€ - JavaGuide - åšå®¢å›­\n\nä»€ä¹ˆæ˜¯SpringBoot è‡ªåŠ¨è£…é…ï¼Ÿ\nä½¿ç”¨Spring æ—¶éœ€è¦é…ç½®å¾ˆå¤šçš„XML ã€‚å³ä½¿ Spring åé¢å¼•å…¥äº†åŸºäºæ³¨è§£çš„é…ç½®ï¼Œåœ¨å¼€å¯æŸäº› Spring ç‰¹æ€§æˆ–è€…å¼•å…¥ç¬¬ä¸‰æ–¹ä¾èµ–çš„æ—¶å€™ï¼Œè¿˜æ˜¯éœ€è¦ç”¨ XML æˆ– Java è¿›è¡Œæ˜¾å¼é…ç½®ã€‚\nä¾‹å¦‚ä½¿ç”¨Spring MVC å†™ä¸ªç®€å•çš„RESTful æ¥å£ï¼Œéƒ½éœ€è¦é…ç½®ä¸€å¤§å †ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼š\n123456789101112131415161718192021222324252627282930313233&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; .....&gt;    &lt;context:component-scan base-package=&quot;com.chenyuxi.controller&quot;/&gt;    &lt;mvc:default-servlet-handler/&gt;    &lt;bean id=&quot;objectMapper&quot; class=&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;&gt;        &lt;!--å…¨å±€å¿½ç•¥null å­—æ®µ,é€‚ç”¨åµŒå¥—--&gt;        &lt;property name=&quot;serializationInclusion&quot; value=&quot;NON_NULL&quot;/&gt;        &lt;!--å…¨å±€è½¬æ¢æ—¶é—´æ ¼å¼--&gt;        &lt;property name=&quot;dateFormat&quot;&gt;            &lt;bean class=&quot;java.text.SimpleDateFormat&quot;&gt;                &lt;constructor-arg index=&quot;0&quot; value=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;            &lt;/bean&gt;        &lt;/property&gt;    &lt;/bean&gt;    &lt;mvc:annotation-driven&gt;        &lt;mvc:message-converters&gt;            &lt;!--é…ç½®String çš„æ¶ˆæ¯è½¬æ¢å™¨ï¼Œå°†é»˜è®¤ç¼–ç ISO_8859_1 ä¿®æ”¹ä¸ºUTF-8--&gt;            &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;                &lt;constructor-arg name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot;/&gt;            &lt;/bean&gt;            &lt;!--é…ç½®Jackson æ¶ˆæ¯è½¬æ¢å™¨--&gt;            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;                &lt;!--è¦†å†™Jackson æ¶ˆæ¯è½¬æ¢å™¨ä¸­çš„objectMapper--&gt;                &lt;property name=&quot;objectMapper&quot; ref=&quot;objectMapper&quot;/&gt;                &lt;!--æ ¼å¼åŒ–æ‰“å°--&gt;                &lt;property name=&quot;prettyPrint&quot; value=&quot;true&quot;/&gt;            &lt;/bean&gt;        &lt;/mvc:message-converters&gt;    &lt;/mvc:annotation-driven&gt;&lt;/beans&gt;\nåŠ ä¸Šä¹‹åé…ç½®äº‹åŠ¡ã€Mybatisã€â€¦ç­‰ç­‰ï¼Œå°±æ›´å¤šäº†ã€‚\nä½†æ˜¯åœ¨Spring Boot é¡¹ç›®ä¸­ï¼Œåªéœ€è¦æ·»åŠ ç›¸å…³ Starterï¼Œæ— éœ€é…ç½®ï¼Œé€šè¿‡ main æ–¹æ³•è¿è¡Œå³å¯ã€‚\né‚£ä¸ºä»€ä¹ˆä¸ç”¨é…ç½®äº†å‘¢ï¼Ÿè¿™äº›é…ç½®å»å“ªäº†å‘¢ï¼Ÿ\nå…¶å®æ˜¯Spring Boot å¸®æˆ‘ä»¬è‡ªåŠ¨æŒ‰å¸¸ç”¨ä¹ æƒ¯ï¼ˆçº¦å®šï¼‰é…ç½®å¥½äº†ã€‚å¹¶ä¸”ï¼Œæˆ‘ä»¬è¿˜èƒ½é€šè¿‡ Spring Boot çš„å…¨å±€é…ç½®æ–‡ä»¶ application.properties æˆ– application.yml ç­‰å¯¹é¡¹ç›®è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®ï¼Œæ¯”å¦‚æ›´æ¢ç«¯å£å·ï¼Œé…ç½® JPA å±æ€§ç­‰ç­‰ã€‚\nå®é™…ä¸Š Spring Framework æ—©å°±å®ç°äº†è¿™ä¸ªè‡ªåŠ¨è£…é…ã€‚\nSpring Boot åªæ˜¯åœ¨å…¶åŸºç¡€ä¸Šï¼Œé€šè¿‡ SPI çš„æ–¹å¼ï¼Œåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š\n\nSPI ï¼Œå…¨ç§°ä¸º Service Provider Interface(æœåŠ¡æä¾›è€…æ¥å£)ï¼Œæ˜¯ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚å®ƒé€šè¿‡åœ¨classpathè·¯å¾„ä¸‹çš„META-INF/services æ–‡ä»¶å¤¹æŸ¥æ‰¾æ–‡ä»¶ï¼Œè‡ªåŠ¨åŠ è½½æ–‡ä»¶ä¸­æ‰€å®šä¹‰çš„ç±»ã€‚\n\nSpringBoot å®šä¹‰äº†ä¸€å¥—æ¥å£è§„èŒƒï¼Œè¿™å¥—è§„èŒƒè§„å®šï¼šSpringBoot åœ¨å¯åŠ¨æ—¶ä¼šæ‰«æå¤–éƒ¨å¼•ç”¨ jar åŒ…ä¸­çš„ META-INF/spring.factories æ–‡ä»¶ï¼Œå°†æ–‡ä»¶ä¸­é…ç½®çš„ç±»å‹ä¿¡æ¯åŠ è½½åˆ° Spring å®¹å™¨ï¼ˆæ­¤å¤„æ¶‰åŠåˆ° JVM ç±»åŠ è½½æœºåˆ¶ä¸ Spring çš„å®¹å™¨çŸ¥è¯†ï¼‰ï¼Œå¹¶æ‰§è¡Œç±»ä¸­å®šä¹‰çš„å„ç§æ“ä½œã€‚å¯¹äºå¤–éƒ¨ jar æ¥è¯´ï¼Œåªéœ€è¦æŒ‰ç…§ SpringBoot å®šä¹‰çš„æ ‡å‡†ï¼Œå°±èƒ½å°†è‡ªå·±çš„åŠŸèƒ½è£…ç½®è¿› SpringBootã€‚\nè¿™å°±æ˜¯Spring Boot è‡ªåŠ¨é…ç½®çš„åŸºæœ¬å®ç°åŸç†ã€‚\nåŸç†åˆ†æ\n@SpringBootApplicationæŒ¨ä¸ªåˆ†æï¼š\n\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan\n\n@SpringBootConfiguration\nå°±æ˜¯@Configurationã€‚\n@ComponentScan\næ‰«æè¢« @Component (@Service,@Controller) æ³¨è§£çš„ beanï¼Œæ³¨è§£é»˜è®¤ä¼šæ‰«æå¯åŠ¨ç±»æ‰€åœ¨çš„åŒ…ä¸‹æ‰€æœ‰çš„ç±» ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸æ‰«ææŸäº› beanã€‚\n123456// æ’é™¤ TypeExcludeFilter å’Œ AutoConfigurationExcludeFilter@ComponentScan(excludeFilters = &#123;     @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),    @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)\n@EnableAutoConfiguration\n@EnableAutoConfiguration ä¹Ÿæ˜¯ä¸€ä¸ªåˆæˆæ³¨è§£ã€‚\n1234567891011121314151617181920212223242526// ...@AutoConfigurationPackage@Import(AutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration &#123;   /**    * Environment property that can be used to override when auto-configuration is    * enabled.    */   String ENABLED_OVERRIDE_PROPERTY = &quot;spring.boot.enableautoconfiguration&quot;;   /**    * Exclude specific auto-configuration classes such that they will never be applied.    * @return the classes to exclude    */   Class&lt;?&gt;[] exclude() default &#123;&#125;;   /**    * Exclude specific auto-configuration class names such that they will never be    * applied.    * @return the class names to exclude    * @since 1.3.0    */   String[] excludeName() default &#123;&#125;;&#125;\næ­¤æ³¨è§£ç”±@AutoConfigurationPackageå’Œ@Import(AutoConfigurationImportSelector.class)ç»„æˆã€‚\n\n@AutoConfigurationPackage çš„ä½œç”¨æ˜¯ï¼Œå°†main ç±»è·¯å¾„åŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶æ³¨å†Œåˆ°å®¹å™¨ä¸­ã€‚\n@Import(AutoConfigurationImportSelector.class) çš„ä½œç”¨æ˜¯ï¼Œå¯¼å…¥AutoConfigurationImportSelector.classï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥é€‰æ‹©å™¨ï¼‰ï¼Œè¿›è€ŒåŠ è½½è‡ªåŠ¨è£…é…ç±» xxxxxxxxxxxAutoconfiguration ã€‚\n\nè‡ªåŠ¨è£…é…æ ¸å¿ƒåŠŸèƒ½ï¼Œå®é™…æ˜¯é€šè¿‡ AutoConfigurationImportSelector ç±»å®ç°çš„ã€‚\nAutoConfigurationImportSelector.class\né‡ç‚¹å°±æ˜¯è¿™ä¸ªç±»ï¼Œè¢«å¯¼å…¥åˆ°Spring Boot Application IOC å®¹å™¨ä¸­äº†ã€‚\nå®ƒåˆ°åº•åšäº†äº›ä»€ä¹ˆäº‹ï¼Ÿä½¿å¾—Spring Boot èƒ½å¤Ÿå®ç°è‡ªåŠ¨é…ç½®ï¼Ÿ\né¦–å…ˆåˆ†æä¸‹æ­¤ç±»çš„ç»§æ‰¿ä½“ç³»ï¼ŒIDEA å¿«æ·é”®ï¼ˆWindowsï¼‰ï¼šCtrl+Alt+Shift+U\n\nå¯ä»¥çœ‹å‡ºï¼ŒAutoConfigurationImportSelector ç±»å®ç°äº† ImportSelector æ¥å£ï¼Œä¹Ÿå°±å®ç°äº†è¿™ä¸ªæ¥å£ä¸­çš„ selectImports æ–¹æ³•ã€‚\nImportSelector\nè¯¥æ–¹æ³•ä¸»è¦ç”¨äº  è·å–æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç±»çš„å…¨é™å®šç±»åï¼Œè¿™äº›ç±»éœ€è¦è¢«åŠ è½½åˆ° IoC å®¹å™¨ä¸­ã€‚\n1String[] selectImports(AnnotationMetadata importingClassMetadata);\n12345678910111213141516private static final String[] NO_IMPORTS = &#123;&#125;;//...@Overridepublic String[] selectImports(AnnotationMetadata annotationMetadata) &#123;   // &lt;1&gt;.åˆ¤æ–­è‡ªåŠ¨è£…é…å¼€å…³æ˜¯å¦æ‰“å¼€   if (!isEnabled(annotationMetadata)) &#123;       // æ²¡æ‰“å¼€è¿”å›ç©ºæ•°ç»„      return NO_IMPORTS;   &#125;   //&lt;2&gt;.å¼€å¯äº†è‡ªåŠ¨é…ç½®ï¼Œåˆ™è·å–è‡ªåŠ¨é…ç½®Entry   AutoConfigurationEntry autoConfigurationEntry = getAutoConfigurationEntry(annotationMetadata);   return StringUtils.toStringArray(autoConfigurationEntry.getConfigurations());&#125;\ngetAutoConfigurationEntry\næ¥åˆ°äº†getAutoConfigurationEntry(annotationMetadata) æ–¹æ³•ï¼š\n123456789101112131415161718192021222324252627/** * Return the &#123;@link AutoConfigurationEntry&#125; based on the &#123;@link AnnotationMetadata&#125; * of the importing &#123;@link Configuration @Configuration&#125; class. * @param annotationMetadata the annotation metadata of the configuration class * @return the auto-configurations that should be imported */protected AutoConfigurationEntry getAutoConfigurationEntry(AnnotationMetadata annotationMetadata) &#123;   if (!isEnabled(annotationMetadata)) &#123;      return EMPTY_ENTRY;   &#125;   // æ ¹æ®annotationMetadata è·å–attributes    AnnotationAttributes attributes = getAttributes(annotationMetadata);   // æ ¹æ®annotationMetadata å’Œ attributes è·å–å€™é€‰é…ç½®ç±»ä»¬   List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);   // ç»™è¿™äº›é…ç½®ç±»å»é‡   configurations = removeDuplicates(configurations);   // æ£€æŸ¥å¹¶å»é™¤æ’é™¤é¡¹   Set&lt;String&gt; exclusions = getExclusions(annotationMetadata, attributes);   checkExcludedClasses(configurations, exclusions);   configurations.removeAll(exclusions);   // è¿‡æ»¤ä¸€äº›ä»€ä¹ˆç©æ„   configurations = getConfigurationClassFilter().filter(configurations);   // è·å–æ‰€æœ‰çš„ AutoConfigurationImportListener ç±»å‹çš„ç›‘å¬å™¨ã€‚å¹¶å¹¿æ’­ Event äº‹ä»¶ã€‚ä¸æ‡‚ï¼Œæ²¡äº‹ã€‚   fireAutoConfigurationImportEvents(configurations, exclusions);   // å°è£…æˆAutoConfigurationEntry è¿”å›   return new (configurations, exclusions);&#125;\né‡ç‚¹æ˜¯è¿™å¥ï¼šList&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);\nè·å–åˆ°äº†æ‰€æœ‰å€™é€‰é…ç½®ç±»ã€‚åé¢çš„ä»£ç æ˜¯è¿›è¡Œä¸€ç³»åˆ—å¤„ç†ï¼Œç„¶åå°è£…è¿”å›ã€‚\né‚£å°±æ¥åˆ°getCandidateConfigurationsæ–¹æ³•ã€‚\ngetCandidateConfigurations\n12345678910111213141516/** * Return the auto-configuration class names that should be considered. By default * this method will load candidates using &#123;@link SpringFactoriesLoader&#125; with * &#123;@link #getSpringFactoriesLoaderFactoryClass()&#125;. * @param metadata the source metadata * @param attributes the &#123;@link #getAttributes(AnnotationMetadata) annotation * attributes&#125; * @return a list of candidate configurations */protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) &#123;   List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(getSpringFactoriesLoaderFactoryClass(),         getBeanClassLoader());   Assert.notEmpty(configurations, &quot;No auto configuration classes found in META-INF/spring.factories. If you &quot;         + &quot;are using a custom packaging, make sure that file is correct.&quot;);   return configurations;&#125;\næ³¨é‡Šå†™å¾—å¾ˆæ¸…æ¥šäº†ï¼š\n@return a list of candidate configurations.\nè¿”å›å€™é€‰é…ç½®åˆ—è¡¨ã€‚\nBy default this method will load candidates using &#123;@link SpringFactoriesLoader&#125; with &#123;@link #getSpringFactoriesLoaderFactoryClass()&#125;.\né»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤æ–¹æ³•å°†ä½¿ç”¨ SpringFactoriesLoader å’Œ getSpringFactoriesLoaderFactoryClassï¼ˆï¼‰åŠ è½½å€™é€‰é¡¹ã€‚\nä¹Ÿå°±æ˜¯è¯´Spring Boot æœ€åä¼šé€šè¿‡Spring å·¥å‚å»åŠ è½½å€™é€‰é…ç½®é¡¹ã€‚\nloadSpringFactories\nå†æ·±å…¥å°±åˆ°äº†loadSpringFactoriesæ–¹æ³•ã€‚\n\nMETA-INF/spring.factories\nå¯ä»¥çœ‹åˆ°å®ƒæ˜¯è¯»å–äº†æ‰€æœ‰ä¾èµ–åŒ…çš„META-INF/spring.factoriesæ–‡ä»¶ï¼š\n\nMETA-INF/spring.factories æ–‡ä»¶å†…å®¹ä¸ºstarter è‡ªå®šä¹‰çš„é…ç½®ç±»ï¼Œä¾‹å¦‚mybatis-starter çš„ï¼š\n\né‚£ä¹ˆï¼Œè¿™ä¸¤ä¸ªç±»å°±ä¼šè‡ªåŠ¨è¢«åŠ è½½åˆ°Spring å®¹å™¨ä¸­ï¼š\n\norg.mybatis.spring.boot.autoconfigure.MybatisLanguageDriverAutoConfiguration\norg.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration\n\nå¦‚æ­¤è¿™èˆ¬ï¼Œæ‰€æœ‰ä¾èµ–åŒ…çš„META-INF/spring.factoriesæ–‡ä»¶ä¸­çš„é…ç½®ç±»ï¼Œéƒ½ä¼šè¢«è¯»å–è¿›æ¥ã€‚\nå›åˆ°ä¸Šå±‚è°ƒç”¨æ–¹æ³•getCandidateConfigurations æ‰“æ–­ç‚¹å¯ä»¥æŸ¥çœ‹ï¼Œä¸€å…±è¯»å–äº†133ä¸ªé…ç½®ç±»ï¼š\n\nä½†æ‰å¼•å…¥è¿™ä¹ˆå‡ ä¸ªåŒ…ï¼š\n\norg.springframework.boot:spring-boot-starter-web:2.5.4\norg-projectlombok:lombok:1.18.20\norg-springframework.boot:spring-boot-configuration-processor:2.5.4\norg.springframework.boot:spring-boot-starter-test:2.5.4\norg-springframework.boot:spring-boot-starter-data-redis:2.5.4\nmysql:mysql-connector-java:8.0.26(runtime)\norg.mybatis.spring.boot:mybatis-spring-boot-starter:2.2.0\n\nå’‹å°±133ä¸ªé…ç½®ç±»äº†å‘¢ï¼Ÿè¿™ä¹ˆå¤šé…ç½®ç±»ï¼Œæ¯æ¬¡å¯åŠ¨éƒ½è¦å…¨éƒ¨åŠ è½½ä¹ˆï¼Ÿ\næŒ‰éœ€åŠ è½½ @Condition\nç»§ç»­å•æ­¥ï¼Œåˆ°è¿”å›è¯­å¥ã€‚å¯ä»¥çœ‹åˆ°ç»è¿‡è¿‡æ»¤åï¼Œåªå‰©ä¸‹äº†38ä¸ªï¼š\n\nè¿™ä¸»è¦æ˜¯@ConditinalOnXXXXXX ï¼ˆè§ï¼šä¸Šæ–‡ç¬”è®°@Conditionï¼‰æ³¨è§£çš„åŠŸåŠ³ï¼Œå®ƒèƒ½å®ç°æŒ‰éœ€åŠ è½½é…ç½®é¡¹ã€‚\næ¯”å¦‚Spring Boot çš„Aop è‡ªåŠ¨é…ç½®ç±»ï¼Œåªæœ‰åœ¨org.aspectj.weaver.Advice ç±»å­˜åœ¨æ—¶æ‰ç”Ÿæ•ˆï¼š\n\nSpring Boot æä¾›çš„å¸¸è§æ¡ä»¶æ³¨è§£ï¼š\n\n@ConditionalOnBeanï¼šå½“å®¹å™¨é‡Œæœ‰æŒ‡å®š Bean çš„æ¡ä»¶ä¸‹\n@ConditionalOnMissingBeanï¼šå½“å®¹å™¨é‡Œæ²¡æœ‰æŒ‡å®š Bean çš„æƒ…å†µä¸‹\n@ConditionalOnSingleCandidateï¼šå½“æŒ‡å®š Bean åœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªï¼Œæˆ–è€…è™½ç„¶æœ‰å¤šä¸ªä½†æ˜¯æŒ‡å®šé¦–é€‰ Bean\n@ConditionalOnClassï¼šå½“ç±»è·¯å¾„ä¸‹æœ‰æŒ‡å®šç±»çš„æ¡ä»¶ä¸‹\n@ConditionalOnMissingClassï¼šå½“ç±»è·¯å¾„ä¸‹æ²¡æœ‰æŒ‡å®šç±»çš„æ¡ä»¶ä¸‹\n@ConditionalOnPropertyï¼šæŒ‡å®šçš„å±æ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼\n@ConditionalOnResourceï¼šç±»è·¯å¾„æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼\n@ConditionalOnExpressionï¼šåŸºäº SpEL è¡¨è¾¾å¼ä½œä¸ºåˆ¤æ–­æ¡ä»¶\n@ConditionalOnJavaï¼šåŸºäº Java ç‰ˆæœ¬ä½œä¸ºåˆ¤æ–­æ¡ä»¶\n@ConditionalOnJndiï¼šåœ¨ JNDI å­˜åœ¨çš„æ¡ä»¶ä¸‹å·®åœ¨æŒ‡å®šçš„ä½ç½®\n@ConditionalOnNotWebApplicationï¼šå½“å‰é¡¹ç›®ä¸æ˜¯ Web é¡¹ç›®çš„æ¡ä»¶ä¸‹\n@ConditionalOnWebApplicationï¼šå½“å‰é¡¹ç›®æ˜¯ Web é¡¹ ç›®çš„æ¡ä»¶ä¸‹\n\næ€»ç»“\nSpring Boot é€šè¿‡ @EnableAutoConfiguration å¼€å¯è‡ªåŠ¨è£…é…ï¼Œé€šè¿‡ SpringFactoriesLoader æœ€ç»ˆåŠ è½½ META-INF/spring.factories ä¸­çš„è‡ªåŠ¨é…ç½®ç±»å®ç°è‡ªåŠ¨è£…é…ï¼Œè‡ªåŠ¨é…ç½®å…¶å®å°±æ˜¯é€šè¿‡ @Conditional æŒ‰éœ€åŠ è½½çš„é…ç½®ç±»ã€‚\næŸ¥çœ‹è‡ªåŠ¨è£…é…çš„æ‰€æœ‰bean\nå¦‚ä½•æŸ¥çœ‹SpringBoot å¯åŠ¨æ—¶è‡ªåŠ¨è£…é…äº†å“ªäº›bean ï¼Ÿ\næ–¹æ³•1\né€šè¿‡ConfigurableApplicationContext å¯¹è±¡çš„getBeanDefinitionNamesæ–¹æ³•å¯ä»¥ç›´æ¥è·å–ï¼š\n12345678910111213141516171819@SpringBootApplicationpublic class SpringbootReviewApplication &#123;    public static void main(String[] args) &#123;        // è·å–åŒ…å«äº†æ‰€æœ‰åˆå§‹åŒ–bean çš„ä¸Šä¸‹æ–‡å®¹å™¨        ConfigurableApplicationContext run = SpringApplication.run(SpringbootReviewApplication.class, args);        // é€šè¿‡å®¹å™¨çš„API æ–¹æ³•è·å–å®¹å™¨å†…æ‰€æœ‰bean çš„åå­—å¹¶æ‰“å°        String[] beanDefinitionNames = run.getBeanDefinitionNames();        for (String beanDefinitionName : beanDefinitionNames) &#123;            System.out.println(&quot;beanDefinitionName = &quot; + beanDefinitionName);        &#125;        // æ‰“å°æ•°é‡        System.out.println(&quot;run.getBeanDefinitionCount() = &quot; + run.getBeanDefinitionCount());    &#125;&#125;\nç»“æœåŒ…å«äº†æˆ‘ä»¬è‡ªå®šä¹‰çš„Bean å’Œå¤–éƒ¨åº“çš„Bean ï¼š\n\nç®€å•å¼•å…¥å‡ ä¸ªä¾èµ–ï¼ŒSpring Boot å°±ç»™æˆ‘åˆå§‹åŒ–äº†ä¸¤ç™¾å¤šä¸ªBeanâ€¦\næ–¹æ³•2\né€šè¿‡å¼ºå¤§çš„IntelliJ ä¹Ÿå¯æŸ¥çœ‹ã€‚IntelliJ æä¾›äº†EndpointåŠŸèƒ½ï¼š\n\nå¹¶æä¾›äº†å¤šç§ç­›é€‰ã€è§†å›¾ï¼š\n\nå¤ªå¼ºå¤§äº†ï¼Œä¸€ç›´åœ¨æ‰¾è¿™åŠŸèƒ½ï¼ŒåŸæ¥è—åœ¨è¿™é‡Œã€‚\næ–¹æ³•3\næ–°å‘ç°çš„ï¼Œæ›´ç‰›é€¼ã€‚\n\nè‡ªå®šä¹‰Starter\nå‚è€ƒï¼šSpring Boot2 ç³»åˆ—æ•™ç¨‹(å…­)è‡ªå®šä¹‰ Spring Boot ä¸­çš„ starter\næ‰€è°“çš„ Starter ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ Maven é¡¹ç›®ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå®šä¹‰ Starter ï¼Œéœ€è¦é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ™®é€šçš„ Maven é¡¹ç›®ï¼Œåˆ›å»ºå®Œæˆåï¼Œæ·»åŠ  Starter çš„è‡ªåŠ¨åŒ–é…ç½®ç±»å³å¯ï¼Œå¦‚ä¸‹ï¼š\n12345&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;    &lt;version&gt;2.5.4&lt;/version&gt;&lt;/dependency&gt;\né…ç½®å®Œæˆåï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ª HelloProperties ç±»ï¼Œç”¨æ¥æ¥å— application.properties ä¸­æ³¨å…¥çš„å€¼ï¼Œä»¥ä¾›åˆå§‹Bean æ—¶ä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š\n12345678910111213141516171819202122232425262728package com.chenyuxi;import org.springframework.boot.context.properties.ConfigurationProperties;@ConfigurationProperties(prefix = &quot;chenyuxi&quot;)public class HelloProperties &#123;    private static final String DEFAULT_NAME = &quot;é»˜è®¤Nameå­&quot;;    private static final String DEFAULT_MSG = &quot;é»˜è®¤Msgå­&quot;;    private String name = DEFAULT_NAME;    private String msg = DEFAULT_MSG;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    public String getMsg() &#123;        return msg;    &#125;    public void setMsg(String msg) &#123;        this.msg = msg;    &#125;&#125;\nä½¿ç”¨äº†@ConfigurationPropertiesæ³¨è§£ï¼Œå¯ä»¥åŠ ä¸Šé…ç½®å¤„ç†å™¨ï¼š\n12345&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;    &lt;version&gt;2.4.3&lt;/version&gt;&lt;/dependency&gt;\nè¦æ³¨å…¥åˆ°HelloProperties é‡Œé¢çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨é…ç½®çš„é»˜è®¤å±æ€§ï¼š\n12345# application.ymlchenyuxi:  name: çš®å¡ä¸˜  msg: abc\né…ç½®å®Œæˆ HelloProperties åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ª HelloService ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªç®€å•çš„ say æ–¹æ³•ï¼Œ HelloService çš„å®šä¹‰å¦‚ä¸‹ï¼š\n123456789101112131415161718192021222324252627package com.chenyuxi;public class HelloService &#123;    private String msg;    private String name;    public String sayHello() &#123;        return name + &quot; say &quot; + msg + &quot; !&quot;;    &#125;    public String getMsg() &#123;        return msg;    &#125;    public void setMsg(String msg) &#123;        this.msg = msg;    &#125;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;&#125;\né‡ç‚¹æ¥äº†ï¼Œå†™ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ï¼Œå°†HelloService è‡ªåŠ¨é…ç½®å¥½å¹¶æåˆ°å®¹å™¨é‡Œé¢å»ï¼š\n123456789101112131415161718192021222324// è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»@Configuration// ä½¿ @ConfigurationProperties æ³¨è§£çš„ç±»ç”Ÿæ•ˆ@EnableConfigurationProperties(HelloProperties.class)// å½“ HelloService.class å­˜åœ¨æ—¶ï¼Œæ­¤é…ç½®ç±»æ‰ç”Ÿæ•ˆ@ConditionalOnClass(HelloService.class)public class HelloServiceAutoConfiguration &#123;    final HelloProperties helloProperties;    // æ„é€ å™¨æ³¨å…¥    public HelloServiceAutoConfiguration(HelloProperties helloProperties) &#123;        this.helloProperties = helloProperties;    &#125;    @Bean    HelloService helloService() &#123;        // èµ‹äºˆ HelloService è¿™ä¸ªBean è‡ªåŠ¨é…ç½®çš„å€¼ï¼Œå¹¶æ³¨å†Œåˆ°å®¹å™¨ä¸­        HelloService helloService = new HelloService();        helloService.setName(helloProperties.getName());        helloService.setMsg(helloProperties.getMsg());        return helloService;    &#125;&#125;\nå› ä¸ºSpring Boot çš„è‡ªåŠ¨é…ç½®æ˜¯é€šè¿‡æ‰«æStarter çš„META-INF/spring.factories æ–‡ä»¶ï¼Œæ‰€ä»¥æœ€åè¿˜è¦æä¸€ä¸ªè¿™æ–‡ä»¶ï¼š\n123# resources/META-INF/spring.factoriesorg.springframework.boot.autoconfigure.EnableAutoConfiguration=com.chenyuxi.HelloServiceAutoConfiguration\nå®Œæˆã€‚\næœ¬åœ°å®‰è£…ï¼Œmaven installã€‚\né¡¹ç›®ä¸­å¼•å…¥ï¼š\n12345&lt;dependency&gt;    &lt;groupId&gt;org.example&lt;/groupId&gt;    &lt;artifactId&gt;TestCustomStarter&lt;/artifactId&gt;    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt;\nå·²å‘Spring å®¹å™¨è‡ªåŠ¨æ³¨å†Œäº†HelloService å¹¶è®¾ç½®äº†é»˜è®¤å€¼ï¼Œæ¥ä¸‹æ¥æµ‹è¯•ï¼š\n123456789101112@SpringBootTestpublic class TestMyStarter &#123;    @Autowired    private HelloService helloService;    @Test    void testMyStarter() &#123;        System.out.println(&quot;helloService.sayHello() = &quot; + helloService.sayHello());    &#125;&#125;\n123output:helloService.sayHello() = é™ˆäºˆå¸Œ say å“ˆå“ˆå“ˆå­ !\nä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œä¿®æ”¹Starter çš„é»˜è®¤å€¼ï¼š\n123chenyuxi:  name: å¡å¸ƒè¾¾  msg: ä½ å¥½å‘€\n123output:helloService.sayHello() = å¡å¸ƒè¾¾ say ä½ å¥½å‘€ !\nWebå¼€å‘\nå†…ç½®Web æœåŠ¡å™¨\nSpring Boot å†…ç½®äº†å¤šç§ Web æœåŠ¡å™¨ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ Tomcat ã€‚\nè¿™ä¸ªæ˜¯Spring Boot åµŒå…¥æœåŠ¡å™¨çš„è‡ªåŠ¨é…ç½®ç±»ã€‚\n\nåœ¨è‡ªåŠ¨é…ç½®ç±»ä¸Šæœ‰ä¸ª@ConditionalOnWebApplicationæ³¨è§£ï¼Œè¡¨ç¤ºåœ¨Web åº”ç”¨ç¨‹åºä¸­ç”Ÿæ•ˆã€‚\n\nåŒçº§åŒ…ä¸‹æœ‰å››ä¸ªWeb æœåŠ¡å™¨å·¥å‚å®šåˆ¶å™¨ï¼ˆVersion 2.5.4ï¼‰ï¼š\n\nåœ¨ è‡ªåŠ¨é…ç½®ç±»é‡Œçš„ å¯¹åº”å‡ ä¸ªWebæœåŠ¡å™¨çš„ å†…éƒ¨ç±» ä¸Šï¼Œæœ‰ä¸ª@ConditionalOnClassæ³¨è§£ï¼šå½“æŒ‡å®šçš„ç±»å­˜åœ¨æ—¶ç”Ÿæ•ˆã€‚\n\né€šè¿‡ä¾èµ–ä¼ é€’ï¼Œspring-boot-starter-web-&gt;spring-boot-starter-tomcat-&gt;tomcat-embed-core\nTomcat ç±»è¢«å¼•å…¥ï¼Œ@ConditionalOnClass(&#123;Tomcat.class, UpgradeProtocol.class&#125;)ç”Ÿæ•ˆã€‚\næ‰€ä»¥Spring Boot å¯åŠ¨æ—¶é»˜è®¤å°±ä»¥Tomcat ä¸ºWeb æœåŠ¡å™¨ã€‚\n\nè¦ä¿®æ”¹Web æœåŠ¡å™¨ï¼Œåªéœ€è¦æ’é™¤tomcat-starterå¹¶å¼•å…¥å¯¹åº”web æœåŠ¡å™¨çš„starterå³å¯ï¼Œä¾‹å¦‚jettyï¼š\n1234567891011121314&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;    &lt;exclusions&gt;        &lt;exclusion&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;        &lt;/exclusion&gt;    &lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;&lt;/dependency&gt;\n\nSpringMVC è‡ªåŠ¨é…ç½®\nå®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼šSpring Boot Features - 7.1.1.Spring MVC Auto-configuration\nSpring Boot ç®€åŒ–äº† Spring Web MVC çš„å¤§éƒ¨åˆ†é…ç½®ï¼Œå¤§å¤šæ•°åœºæ™¯éƒ½ä¸éœ€è¦è‡ªå®šä¹‰é…ç½®ã€‚\n\n\nContentNegotiatingViewResolverã€BeanNameViewResolverï¼š è§†å›¾è§£æå™¨çš„æ”¯æŒ\n\n\næ”¯æŒæä¾›é™æ€èµ„æºï¼ˆåŒ…æ‹¬ webjarsï¼‰\n\n\nè‡ªåŠ¨æ³¨å†Œ Converterï¼ŒGenericConverterï¼ŒFormatter\n\n\nå¯¹ HttpMessageConverters çš„æ”¯æŒ\n\n\nè‡ªåŠ¨æ³¨å†Œ MessageCodesResolver\n\n\nindex.html æ”¯æŒ\n\n\nè‡ªåŠ¨ä½¿ç”¨ä¸€ä¸ª ConfigurableWebBindingInitializerï¼š å¯é…ç½®Webç»‘å®šåˆå§‹åŒ–å™¨\n\n\nâ€¦\n\n\nå¦‚æœæƒ³ä¿ç•™ Spring Boot çš„è‡ªåŠ¨é…ç½®ï¼Œå¹¶è¿›è¡Œæ›´å¤šè‡ªå®šä¹‰ï¼ˆæ‹¦æˆªå™¨ã€æ ¼å¼åŒ–ç¨‹åºã€è§†å›¾æ§åˆ¶å™¨å’Œå…¶ä»–åŠŸèƒ½ï¼‰ï¼Œå¯ä»¥æ·»åŠ è‡ªå·±çš„ WebMvcConfigurer ç±»å‹çš„ @Configuration ç±»ï¼Œä½†ä¸è¦æ·»åŠ  @EnableWebMvcã€‚\n\n\nå£°æ˜ä¸€ä¸ªç±»å‹ä¸º WebMvcRegistrations çš„ bean å¯ä»¥æ”¹å˜é»˜è®¤åº•å±‚ç»„ä»¶ã€‚\n\n\nä½¿ç”¨ @EnableWebMvc + @Configuration + DelegatingWebMvcConfiguration å¯ä»¥å…¨é¢æ¥ç®¡ SpringMVCçš„é…ç½®ã€‚\n\n\nç®€å•åŠŸèƒ½\né™æ€èµ„æºè®¿é—®\né»˜è®¤ç›®å½•\næ”¾åœ¨è¿™å‡ ä¸ªç›®å½•ä¸‹éƒ½å¯ä»¥ã€‚\n\nä¿®æ”¹ç›®å½•\n123spring:   resources:     static-locations: [classpath:/aaa/,classpath:/bbb/,...]\næ˜ å°„é¡ºåº\né™æ€æ˜ å°„ï¼š/**\nè¯·æ±‚è¿›æ¥ï¼Œå…ˆå»æ‰¾ Controller çœ‹èƒ½ä¸èƒ½å¤„ç†ã€‚ä¸èƒ½å¤„ç†çš„æ‰€æœ‰è¯·æ±‚åˆéƒ½äº¤ç»™é™æ€èµ„æºå¤„ç†å™¨ã€‚é™æ€èµ„æºä¹Ÿæ‰¾ä¸åˆ°åˆ™å“åº” 404 é¡µé¢ã€‚\næ·»åŠ è®¿é—®å‰ç¼€\né»˜è®¤æ— å‰ç¼€ã€‚\n123spring:  mvc:    static-path-pattern: /res/**\næ¬¢è¿é¡µ\né™æ€èµ„æºè·¯å¾„ä¸‹  index.html æˆ– Controller  /indexã€‚\nè‡ªå®šä¹‰ Favicon\nfavicon.ico æ”¾åœ¨é™æ€èµ„æºç›®å½•ä¸‹å³å¯ã€‚\næ¨¡æ¿å¼•æ“ Thymeleaf\nSpringBoot é»˜è®¤ä¸æ”¯æŒ JSPï¼Œéœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡æ¿å¼•æ“æŠ€æœ¯å®ç°æœåŠ¡ç«¯é¡µé¢æ¸²æŸ“ã€‚\nç®€ä»‹\nThymeleaf is a modern server-side Java template engine for both web and standalone environments, capable of processing HTML, XML, JavaScript, CSS and even plain text.\næ–‡æ¡£\nDocumentation - Thymeleaf\nTutorial: Using Thymeleaf\nåŸºæœ¬è¯­æ³•\n\n\nè¡¨è¾¾å¼åå­—\nè¯­æ³•\nç”¨é€”\n\n\n\n\nå˜é‡å–å€¼\n${â€¦}\nè·å–è¯·æ±‚åŸŸã€session åŸŸã€å¯¹è±¡ç­‰å€¼\n\n\né€‰æ‹©å˜é‡\n*{â€¦}\nè·å–ä¸Šä¸‹æ–‡å¯¹è±¡å€¼\n\n\næ¶ˆæ¯\n#{â€¦}\nè·å–å›½é™…åŒ–ç­‰å€¼\n\n\né“¾æ¥\n@{â€¦}\nç”Ÿæˆé“¾æ¥\n\n\nç‰‡æ®µè¡¨è¾¾å¼\n~{â€¦}\njsp:include ä½œç”¨ï¼Œå¼•å…¥å…¬å…±é¡µé¢ç‰‡æ®µ\n\n\næ›´å¤š\næš‚æ—¶æ‡’å¾—ç ”ç©¶è¿™ä¹ˆå¤šäº†ï¼Œç”¨åˆ°å†æŸ¥ã€‚\næ¨¡æ¿å¼•æ“Thymeleafï¼Ÿæ¥è¿™ä¸€ç¯‡å°±å¤Ÿç”¨äº† - æ˜é‡‘\nThymeleafä¸€ç¯‡å°±å¤Ÿäº† - æ˜é‡‘\nè·¨åŸŸ CORS\nåŒæºç­–ç•¥\nåŒæºæŒ‡è®¿é—®ç«™ç‚¹çš„ï¼šåè®®ã€åŸŸåã€ç«¯å£å·å¿…é¡»ä¸€è‡³ï¼Œæ‰å«åŒæºã€‚\næµè§ˆå™¨é»˜è®¤åŒæºä¹‹é—´çš„ç«™ç‚¹æ˜¯å¯ä»¥ç›¸äº’è®¿é—®èµ„æºå’Œæ“ä½œ DOM çš„ï¼Œè€Œä¸åŒæºä¹‹é—´æƒ³è¦äº’ç›¸è®¿é—®èµ„æºæˆ–è€…æ“ä½œ DOMï¼Œé‚£å°±éœ€è¦åŠ ä¸€äº›å®‰å…¨ç­–ç•¥çš„é™åˆ¶ï¼Œä¿—ç§°åŒæºç­–ç•¥ã€‚\nåŒæºç­–ç•¥ä¸»è¦é™åˆ¶äº†ä¸‰ä¸ªæ–¹é¢ï¼š\n\nDOM å±‚é¢ï¼šä¸åŒæºç«™ç‚¹ä¹‹é—´ä¸èƒ½ç›¸äº’è®¿é—®å’Œæ“ä½œ DOMã€‚\næ•°æ®å±‚é¢ï¼šä¸èƒ½è·å–ä¸åŒæºç«™ç‚¹çš„ Cookieã€LocalStorageã€indexDB ç­‰æ•°æ®ã€‚\nç½‘ç»œå±‚é¢ï¼šé˜»æ­¢è¯»å– AJAX è¯·æ±‚ä¸åŒæºç«™ç‚¹è¿”å›çš„å†…å®¹ï¼Œå®é™…ä¸Šè¯·æ±‚ä¾ç„¶å‘é€åˆ°äº†æœåŠ¡å™¨ã€‚\n\nå¥½æ–‡ï¼š\næµè§ˆå™¨ç³»åˆ— - åªæœ‰æµè§ˆå™¨æ‰æœ‰ åŒæºç­–ç•¥ å—ï¼Ÿãƒ»Issue #28ãƒ»HXWfromDJTU/blog\nä¸ºä»€ä¹ˆåªæœ‰æµè§ˆå™¨ï¼ˆæˆ–JSï¼‰æ˜¯æœ‰æ‰€è°“çš„åŒæºç­–ç•¥ï¼Ÿ - çŸ¥ä¹\nåƒé€æµè§ˆå™¨å®‰å…¨ï¼ˆåŒæºé™åˆ¶ / XSS/CSRF/ ä¸­é—´äººæ”»å‡»ï¼‰ - æ˜é‡‘\nåŒæºç­–ç•¥ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦\nLyleMi/Learn-Web-Hacking: Study Notes For Web Hacking / Webå®‰å…¨å­¦ä¹ ç¬”è®°\nSpring Boot å®ç° CORS\nCORSï¼ˆè·¨åŸŸæºèµ„æºå…±äº«ï¼‰ï¼ˆCORSï¼ŒCross-origin resource sharingï¼‰\nä½¿ç”¨ CORS å¯ä»¥åœ¨å‰ç«¯ä»£ç ä¸åšä»»ä½•ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œå®ç°è·¨åŸŸã€‚\nç”ŸåŠ¨å½¢è±¡ï¼š\n\nä½¿ç”¨@CrossOriginæ³¨è§£ï¼Œå¯ä»¥è·¨åŸŸæŒ‡å®šæ¥å—æŸä¸ªåœ°å€çš„è¯·æ±‚ã€‚\n123456789101112131415@RestControllerpublic class HelloController &#123;        @CrossOrigin(value = &quot;http://localhost:8081&quot;)    @GetMapping(&quot;/hello&quot;)    public String hello() &#123;        return &quot;hello&quot;;    &#125;        @CrossOrigin(value = &quot;http://localhost:8081&quot;)    @PostMapping(&quot;/hello&quot;)    public String hello2() &#123;        return &quot;post hello&quot;;    &#125;&#125;\nè¿”å›å“åº”çš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Š Access-Control-Allow-Origin å“åº”å¤´ä¿¡æ¯ã€‚å‘Šè¯‰æµè§ˆå™¨æœ¬æœåŠ¡å™¨æ„¿æ„å°†èµ„æºå…±äº«ç»™æ­¤ç«™ç‚¹ã€‚è¿™æ—¶æµè§ˆå™¨å°±ä¸ä¼šæ‹¦æˆªXHR è·å–å“åº”æ•°æ®äº†ã€‚\n\n@CrossOrigin æ³¨è§£çš„å‚æ•°å¯ä»¥é™åˆ¶è¯·æ±‚çš„ originã€methodã€header\né»˜è®¤ï¼š\n\nå…è®¸æ‰€æœ‰origins\nå…è®¸æ‰€æœ‰headers\nå…è®¸æ‰€æœ‰httpæ–¹æ³•\n\n\nåœ¨æ–¹æ³•æˆ–ç±»ä¸Šä½¿ç”¨@CrossOrigin æ³¨è§£èƒ½ç»†ç²’åº¦æ§åˆ¶ã€‚ä½†å¦‚æœéœ€è¦å…¨å±€é…ç½®çš„è¯ï¼Œè¿™ç§æ–¹å¼è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ä¸”ä½æ•ˆã€‚\nå…¨å±€é…ç½®åªéœ€è¦åœ¨ SpringMVC çš„é…ç½®ç±»ä¸­é‡å†™ addCorsMappings æ–¹æ³•å³å¯ï¼Œå¦‚ä¸‹\n123456789101112@Configurationpublic class WebMvcConfig implements WebMvcConfigurer &#123;    @Override    public void addCorsMappings(CorsRegistry registry) &#123;                registry.addMapping(&quot;/**&quot;)  // (&quot;/api/**&quot;)            .allowedOrigins(&quot;http://localhost:8081&quot;,&quot;http://localhost:8082&quot;)            .allowedMethods(&quot;*&quot;)\t// (&quot;PUT&quot;, &quot;DELETE&quot;)            .allowedHeaders(&quot;*&quot;);\t// (&quot;header1&quot;, &quot;header2&quot;, &quot;header3&quot;)            &#125;&#125;\nXML ç›¸åŒé…ç½®ï¼š\n12345678&lt;mvc:cors&gt;    &lt;mvc:mapping path=&quot;/**&quot;        allowed-origins=&quot;http://localhost:8081, http://localhost:8082&quot;        allowed-methods=&quot;*&quot;        allowed-headers=&quot;*&quot; /&gt;&lt;/mvc:cors&gt;\n/** è¡¨ç¤ºæœ¬åº”ç”¨çš„æ‰€æœ‰è¯·æ±‚Mapping  éƒ½ä¼šå»å¤„ç†è·¨åŸŸè¯·æ±‚ï¼ŒallowedMethods è¡¨ç¤ºå…è®¸é€šè¿‡çš„è¯·æ±‚æ–¹æ³•ï¼ŒallowedHeaders åˆ™è¡¨ç¤ºå…è®¸çš„è¯·æ±‚å¤´ã€‚ç»è¿‡è¿™æ ·çš„é…ç½®ä¹‹åï¼Œå°±ä¸å¿…åœ¨æ¯ä¸ªæ–¹æ³•ä¸Šå•ç‹¬é…ç½®è·¨åŸŸäº†ã€‚\nCSRF\nåˆ©ç”¨ç”¨æˆ·çš„ç™»å½•çŠ¶æ€å‘èµ·è·¨ç«™è¯·æ±‚ï¼Œæ¯”å¦‚é‚®ç®±é‡Œçš„ä¹±ä¸ƒå…«ç³Ÿçš„é“¾æ¥ï¼Œæ‰“å¼€é“¾æ¥çš„æ—¶å€™é‚®ç®±è‚¯å®šæ˜¯å¤„äºç™»å½•çŠ¶æ€ï¼Œç„¶åå°±å¯ä»¥ç”¨è¿™ä¸ªç™»å½•çŠ¶æ€ï¼Œä¼ªé€ å¸¦æœ‰æ­£ç¡® Cookie çš„ http è¯·æ±‚ï¼Œç›´æ¥ç»•è¿‡åå°çš„ç™»å½•éªŒè¯ï¼Œç„¶åå†’å……ç”¨æˆ·æ‰§è¡Œä¸€äº›æ“ä½œã€‚\nå‘èµ· CSRF æ”»å‡»æœ‰ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼š\n\nç›®æ ‡ç½‘ç«™ä¸€å®šè¦æœ‰ CSRF æ¼æ´\nç”¨æˆ·ç™»å½•è¿‡ç›®æ ‡ç½‘ç«™ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¿å­˜äº†ç™»å½•çŠ¶æ€\néœ€è¦ç”¨æˆ·ä¸»åŠ¨æ‰“å¼€ç¬¬ä¸‰æ–¹ç«™ç‚¹\n\næœ¬è´¨æ˜¯åˆ©ç”¨ cookie åœ¨åŒæºè¯·æ±‚ä¸­æºå¸¦å‘é€ç»™æœåŠ¡å™¨çš„ç‰¹ç‚¹ï¼Œæ¥å®ç°å†’å……ç”¨æˆ·\nCSRF æ”»å‡»ä¹Ÿæœ‰ä¸‰ç§ç±»å‹ï¼šGET ç±»å‹ã€ POST ç±»å‹ã€é“¾æ¥å‹\n\nè‡ªåŠ¨å‘GETç±»å‹ï¼šæ¯”å¦‚ img æˆ– iframe æ ‡ç­¾ç­‰ï¼Œå½“ç”¨æˆ·æ‰“å¼€è¿™ä¸ªç½‘ç«™æ—¶ä¼šè‡ªåŠ¨å‘èµ·å¸¦ Cookie çš„èµ„æºè¯·æ±‚\n\n12&lt;img src=&quot;http://æ¶æ„ç½‘å€&quot; &gt;å¤åˆ¶ä»£ç \n\nè‡ªåŠ¨å‘POSTç±»å‹ï¼šæ¯”å¦‚æ•´ä¸€ä¸ªéšè—çš„è¡¨å•ï¼Œåœ¨ç”¨æˆ·è¿›å…¥é¡µé¢çš„æ—¶å€™è‡ªåŠ¨æäº¤è¡¨å•\n\n12345&lt;form id=&quot;hack&quot; action=&quot;https://æ¶æ„ç½‘å€&quot; method=&quot;post&quot;&gt;    ...&lt;/form&gt;&lt;script&gt;document.getElementById(&#x27;hack&#x27;).submit()&lt;/script&gt;å¤åˆ¶ä»£ç \n\nè¯±å¯¼é“¾æ¥å‹ï¼šå°±æ˜¯è¯±å¯¼ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»é“¾æ¥ï¼Œæ¯”å¦‚ aæ ‡ç­¾\n\n12&lt;a href=&quot;https://æ¶æ„ç½‘å€&quot;&gt;ç‚¹å‡»é¢†å–å¤§ç¤¼åŒ…&lt;/a&gt;&lt;a href=&quot;https://æ¶æ„ç½‘å€&quot;&gt;ç‚¹å‡»ä¸‹è½½ç¾å¥³è§†é¢‘&lt;/a&gt;\næ›´å¤šå‚è€ƒï¼š\n\nå‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šå¦‚ä½•é˜²æ­¢ CSRF æ”»å‡»ï¼Ÿ - ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ\nåƒé€æµè§ˆå™¨å®‰å…¨ï¼ˆåŒæºé™åˆ¶ / XSS/CSRF/ ä¸­é—´äººæ”»å‡»ï¼‰ - æ˜é‡‘\n\næ•°æ®è®¿é—®\né»˜è®¤æ•°æ®æº\nSpring Boot å®˜æ–¹ä½¿ç”¨çš„æ•°æ®æºæ˜¯ï¼šHikariCPã€‚\n\n\næµè¡Œçš„æ•°æ®æºé‡ŒHikariCPåº”è¯¥æ˜¯é€Ÿåº¦æœ€å¿«ï¼Œæ€§èƒ½æœ€é«˜çš„ã€‚\n\n\nè€ŒDruid åŠŸèƒ½å…¨é¢ã€æ‰©å±•æ€§å¼ºã€å›½å†…ç”Ÿæ€å¥½ï¼Œæ€§èƒ½ä¹Ÿè¿˜ä¸é”™ã€‚\n\n\nè¿˜æœ‰ä¸ªå°ä¼—çš„æ•°æ®æºï¼ŒBeeCPï¼Œå…‰è®ºé€Ÿåº¦çš„è¯å¥½åƒæ¯”HikariCPè¿˜è¦å¿«ï¼šChris2018998/BeeCP: A High Performance JDBC Connection Pool(faster than HikariCP)\n\n\nå„ç§æ•°æ®æºå¯¹æ¯”è¯„æµ‹ï¼š\n\nHikariCP VS druid VS c3p0 VS dbcp VS jdbc æ•°æ®åº“è¿æ¥æ± æ€§èƒ½æ¯”å¯¹_Java &amp; Basketball-CSDN åšå®¢\nå¯¹æ¯”å„å¤§æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ - Jdbc-Dbcp-C3p0-Druid-Hikaricp - äº‘ + ç¤¾åŒº - è…¾è®¯äº‘\n\ndruid æ•°æ®æºstarter åŠæ–‡æ¡£ï¼šdruid/druid-spring-boot-starter at master Â· alibaba/druid\næ•´åˆ Redis\nSpringBoot 1.5.xç‰ˆæœ¬Rediså®¢æˆ·ç«¯é»˜è®¤æ˜¯Jediså®ç°çš„ï¼ŒSpringBoot 2.xç‰ˆæœ¬ä¸­é»˜è®¤å®¢æˆ·ç«¯æ˜¯ç”¨Lettuceå®ç°çš„ã€‚\nå¯å‚è€ƒï¼š\n\nSpring Data Redis æœ€ä½³å®è·µï¼ - æ˜é‡‘\nRedisé«˜çº§å®¢æˆ·ç«¯Lettuceè¯¦è§£ - throwable - åšå®¢å›­\n\n1234&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;\n123456# application.ymlspring:  redis:    host: 192.168.40.138    port: 6379\n1234567891011121314151617181920212223package com.example.springboot;import org.junit.jupiter.api.Test;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.redis.core.StringRedisTemplate;@SpringBootTestpublic class SpringBootApplicationTest &#123;    @Autowired    private StringRedisTemplate stringRedisTemplate;    @Test    void testSet() &#123;        stringRedisTemplate.boundValueOps(&quot;name&quot;).set(&quot;chenyuxi&quot;);    &#125;    @Test    void testGet() &#123;        System.out.println(stringRedisTemplate.boundValueOps(&quot;name&quot;).get());    &#125;&#125;\næ•´åˆ Mybatis\nä¾èµ–ï¼š\n12345678910&lt;dependency&gt;    &lt;groupId&gt;mysql&lt;/groupId&gt;    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;    &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;2.2.0&lt;/version&gt;&lt;/dependency&gt;\né…ç½®ï¼š\n12345678910111213141516# application.yml# é…ç½®mysqlåœ°å€è¿æ¥å±æ€§ç­‰spring:  datasource:    driver-class-name: com.mysql.cj.jdbc.Driver    url: jdbc:mysql:///exam?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai    username: root    password:# Mybatisçš„æ¨¡å‹åœ°å€å’ŒMapper.xmlæ–‡ä»¶åœ°å€mybatis:  type-aliases-package: com.example.springboot.entity  mapper-locations: classpath*:mapper/*Mapper.xml#  æŒ‡å®šmybatis æ ¸å¿ƒé…ç½®æ–‡ä»¶#  config-location:\næ•´åˆ Mybatis-Plus\né¡¹ç›®åœ°å€ï¼šbaomidou/mybatis-plus: An powerful enhanced toolkit of MyBatis for simplify development\nä¾èµ–ï¼š\n12345&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;    &lt;version&gt;3.4.3.3&lt;/version&gt;&lt;/dependency&gt;\nç„¶åç»§æ‰¿ BaseMapperæ¥å£ï¼Œå³å¯æ‹¥æœ‰CRUD èƒ½åŠ›ã€‚\nService å±‚ä¹Ÿå°è£…å¥½äº†ï¼Œç»§æ‰¿IServiceæ¥å£å³å¯ã€‚å¦‚æœè¦è‡ªå®šä¹‰é€šç”¨ Service æ–¹æ³•ï¼Œå°±åˆ›å»ºè‡ªå·±çš„ IBaseService ç»§æ‰¿ Mybatis-Plus æä¾›çš„åŸºç±»ã€‚\nlearn moreï¼šç®€ä»‹ | MyBatis-Plus\næ•´åˆ Spring Data JPA\nJPA æ˜¯å•¥\nJava Persistence APIï¼šç”¨äºå¯¹è±¡æŒä¹…åŒ–çš„ API\nJava EE 5.0 å¹³å°æ ‡å‡†çš„ ORM è§„èŒƒï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä»¥ç»Ÿä¸€çš„æ–¹å¼è®¿é—®æŒä¹…å±‚\n\nJPA å’Œ Hibernate çš„å…³ç³»\nHibernateæ˜¯ JPAçš„ä¸€ç§å®ç°ã€‚\nJPA åŒ…å«çš„æŠ€æœ¯\n\n\nORM æ˜ å°„å…ƒæ•°æ®ï¼šJPA æ”¯æŒ XML å’Œ JDK 5.0 æ³¨è§£ä¸¤ç§å…ƒæ•°æ®çš„å½¢å¼ï¼Œå…ƒæ•°æ®æè¿°å¯¹è±¡å’Œè¡¨ä¹‹é—´çš„\næ˜ å°„å…³ç³»ï¼Œæ¡†æ¶æ®æ­¤å°†å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“è¡¨ä¸­ã€‚\n\n\nJPA çš„ APIï¼šç”¨æ¥æ“ä½œå®ä½“å¯¹è±¡ï¼Œæ‰§è¡ŒCRUDæ“ä½œï¼Œæ¡†æ¶åœ¨åå°å®Œæˆæ‰€æœ‰çš„äº‹æƒ…ï¼Œå¼€å‘è€…ä»ç¹ççš„\nJDBC å’Œ SQL ä»£ç ä¸­è§£è„±å‡ºæ¥ã€‚\n\n\næŸ¥è¯¢è¯­è¨€ï¼ˆJPQLï¼‰ï¼šè¿™æ˜¯æŒä¹…åŒ–æ“ä½œä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ–¹é¢ï¼Œé€šè¿‡é¢å‘å¯¹è±¡è€Œéé¢å‘æ•°æ®åº“çš„æŸ¥è¯¢\nè¯­è¨€æŸ¥è¯¢æ•°æ®ï¼Œé¿å…ç¨‹åºå’Œå…·ä½“çš„ SQL ç´§å¯†è€¦åˆã€‚\n\n\nJPQL\nSQL = Structur Query Language ï¼ˆç»“æ„åŒ– æŸ¥è¯¢è¯­è¨€ï¼‰\nJPQL = Java Persistence Query Language ï¼ˆJavaæŒä¹…åŒ– æŸ¥è¯¢è¯­è¨€ï¼‰\nSpring Data\nSpring Data æ˜¯ Spring çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®ï¼Œæ”¯æŒNoSQL å’Œ å…³ç³»æ•°æ®å­˜å‚¨ã€‚å…¶ä¸»è¦ç›®æ ‡æ˜¯ä½¿æ•°æ®åº“çš„è®¿é—®å˜å¾—æ–¹ä¾¿å¿«æ·ã€‚\nMain modules\n\nSpring Data Commons - Core Spring concepts underpinning every Spring Data module.\nSpring Data JDBC - Spring Data repository support for JDBC.\nSpring Data JDBC Ext - Support for database specific extensions to standard JDBC including support for Oracle RAC fast connection failover, AQ JMS support and support for using advanced data types.\nSpring Data JPA - Spring Data repository support for JPA.\nSpring Data KeyValue - Map based repositories and SPIs to easily build a Spring Data module for key-value stores.\nSpring Data LDAP - Spring Data repository support for Spring LDAP.\nSpring Data MongoDB - Spring based, object-document support and repositories for MongoDB.\nSpring Data Redis - Easy configuration and access to Redis from Spring applications.\nSpring Data REST - Exports Spring Data repositories as hypermedia-driven RESTful resources.\nSpring Data for Apache Cassandra - Easy configuration and access to Apache Cassandra or large scale, highly available, data oriented Spring applications.\nSpring Data for Apache Geode - Easy configuration and access to Apache Geode for highly consistent, low latency, data oriented Spring applications.\nSpring Data for Pivotal GemFire - Easy configuration and access to Pivotal GemFire for your highly consistent, low latency/high through-put, data-oriented Spring applications.\n\nCommunity modules\n\nSpring Data Aerospike - Spring Data module for Aerospike.\nSpring Data ArangoDB - Spring Data module for ArangoDB.\nSpring Data Couchbase - Spring Data module for Couchbase.\nSpring Data Azure Cosmos DB - Spring Data module for Microsoft Azure Cosmos DB.\nSpring Data Cloud Datastore - Spring Data module for Google Datastore.\nSpring Data Cloud Spanner - Spring Data module for Google Spanner.\nSpring Data DynamoDB - Spring Data module for DynamoDB.\nSpring Data Elasticsearch - Spring Data module for Elasticsearch.\nSpring Data Hazelcast - Provides Spring Data repository support for Hazelcast.\nSpring Data Jest - Spring Data module for Elasticsearch based on the Jest REST client.\nSpring Data Neo4j - Spring-based, object-graph support and repositories for Neo4j.\nOracle NoSQL Database SDK for Spring Data - Spring Data module for Oracle NoSQL Database and Oracle NoSQL Cloud Service.\nSpring Data for Apache Solr - Easy configuration and access to Apache Solr for your search-oriented Spring applications.\nSpring Data Vault - Vault repositories built on top of Spring Data KeyValue.\nSpring Data YugabyteDB - Spring Data module for YugabyteDB distributed SQL database.\n\nSpring Data JPA\nSpring Data JPA è‡´åŠ›äºå‡å°‘æ•°æ®è®¿é—®å±‚ (DAO) çš„å¼€å‘é‡. å¼€å‘è€…å”¯ä¸€è¦åšçš„ï¼Œå°±æ˜¯å£°æ˜æŒä¹…å±‚çš„æ¥å£ï¼Œå…¶ä»–éƒ½äº¤ç»™ Spring Data JPA æ¥å®Œæˆã€‚\nSpring Data JPA å¯ä»¥ç†è§£ä¸º JPA è§„èŒƒçš„å†æ¬¡å°è£…æŠ½è±¡ï¼Œåº•å±‚è¿˜æ˜¯ä½¿ç”¨äº† Hibernate çš„ JPA æŠ€æœ¯å®ç°ã€‚\n\nåŸºæœ¬ä½¿ç”¨\næ·»åŠ æ¨¡å—ï¼š\n1234&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;\næ•°æ®æºæ˜¯è‚¯å®šè¦é…ç½®çš„ï¼š\n123456789101112spring:  datasource:    driver-class-name: com.mysql.cj.jdbc.Driver    url: jdbc:mysql:///exam?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;serverTimeZone=Asia/ShangHai    username: root    password:  jpa:    # åœ¨æ§åˆ¶å°æ‰“å°sql    show-sql: true    # æ¯æ¬¡å¯åŠ¨é¡¹ç›®æ—¶ï¼Œæ•°æ®åº“åˆå§‹åŒ–ç­–ç•¥    hibernate:      ddl-auto: update\nå®ä½“ç±»ï¼ŒSpring Data JPA ä¼šæ ¹æ®å®ä½“ç±»è‡ªåŠ¨ç”ŸæˆSchema ï¼š\n1234567891011121314@Entity(name = &quot;t_user&quot;)@Data@AllArgsConstructor@NoArgsConstructorpublic class User &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private Integer id;    @Column(name = &quot;name&quot;)    private String username;    private String address;&#125;\ndao å±‚ï¼Œç»§æ‰¿JpaRepositoryï¼Œä¸¤ä¸ªå‚æ•°ï¼ŒæŒ‡å®šå®ä½“ç±»å’Œä¸»é”®ç±»å‹ï¼š\n123public interface UserDao extends JpaRepository&lt;User, Integer&gt; &#123;&#125;\nç»§æ‰¿æ­¤ç±»åæ¥å£å°±èƒ½è·å¾—ä¸€å¤§æŠŠCRUD æ–¹æ³•ã€‚ä¾‹å¦‚ä¿å­˜ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼Œåˆ†é¡µæŸ¥è¯¢ç­‰ã€‚\nä¹Ÿå¯ä»¥æ ¹æ®å‘½åè§„èŒƒè‡ªå®šä¹‰æ–¹æ³•ï¼ŒSpring Data JPA å°†æ ¹æ®æ–¹æ³•åç§°å®ç°åŠŸèƒ½ï¼š\n1List&lt;User&gt; findByAddressEqualsAndIdLessThanEqual(String address, Integer id);\nå‘½åå®ç°ä¸äº†çš„å¤æ‚sqlï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£è‡ªå®šä¹‰ ï¼ˆUsing @Queryï¼‰ï¼š\n12@Query(value = &quot;select * from t_user where id=(select max(id) from t_user)&quot;, nativeQuery = true)User maxIdUser();\nå•å…ƒæµ‹è¯•\nSpring Boot 2.2.0 ç‰ˆæœ¬å¼€å§‹å¼•å…¥ JUnit 5 ä½œä¸ºå•å…ƒæµ‹è¯•é»˜è®¤åº“ã€‚\nJunit 5 å¸¸ç”¨æ³¨è§£\n2.1. Annotations - JUnit 5 User Guide\n\n@Test : è¡¨ç¤ºæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•ã€‚ä½†æ˜¯ä¸ JUnit4 çš„ @Test ä¸åŒï¼Œä»–çš„èŒè´£éå¸¸å•ä¸€ä¸èƒ½å£°æ˜ä»»ä½•å±æ€§ï¼Œæ‹“å±•çš„æµ‹è¯•å°†ä¼šç”± Jupiter æä¾›é¢å¤–æµ‹è¯•ã€‚\n@ParameterizedTest : è¡¨ç¤ºæ–¹æ³•æ˜¯å‚æ•°åŒ–æµ‹è¯•\n@RepeatedTest : è¡¨ç¤ºæ–¹æ³•å¯é‡å¤æ‰§è¡Œ\n@DisplayName : ä¸ºæµ‹è¯•ç±»æˆ–è€…æµ‹è¯•æ–¹æ³•è®¾ç½®å±•ç¤ºåç§°\n@BeforeEach : è¡¨ç¤ºåœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•ä¹‹å‰æ‰§è¡Œ\n@AfterEach : è¡¨ç¤ºåœ¨æ¯ä¸ªå•å…ƒæµ‹è¯•ä¹‹åæ‰§è¡Œ\n@BeforeAll : è¡¨ç¤ºåœ¨æ‰€æœ‰å•å…ƒæµ‹è¯•ä¹‹å‰æ‰§è¡Œ\n@AfterAll : è¡¨ç¤ºåœ¨æ‰€æœ‰å•å…ƒæµ‹è¯•ä¹‹åæ‰§è¡Œ\n@Tag : è¡¨ç¤ºå•å…ƒæµ‹è¯•ç±»åˆ«ï¼Œç±»ä¼¼äº JUnit4 ä¸­çš„ @Categories\n@Disabled : è¡¨ç¤ºæµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•ä¸æ‰§è¡Œï¼Œç±»ä¼¼äº JUnit4 ä¸­çš„ @Ignore\n@Timeout : è¡¨ç¤ºæµ‹è¯•æ–¹æ³•è¿è¡Œå¦‚æœè¶…è¿‡äº†æŒ‡å®šæ—¶é—´å°†ä¼šè¿”å›é”™è¯¯\n@ExtendWith : ä¸ºæµ‹è¯•ç±»æˆ–æµ‹è¯•æ–¹æ³•æä¾›æ‰©å±•ç±»å¼•ç”¨\n\næ–­è¨€\nç”¨æ¥å¯¹å•ä¸ªå€¼è¿›è¡Œç®€å•çš„éªŒè¯ã€‚å¦‚ï¼š\nç®€å•æ–­è¨€ï¼š\n\n\næ–¹æ³•\nè¯´æ˜\n\n\n\n\nassertEquals\nåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æˆ–ä¸¤ä¸ªåŸå§‹ç±»å‹æ˜¯å¦ç›¸ç­‰\n\n\nassertNotEquals\nåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æˆ–ä¸¤ä¸ªåŸå§‹ç±»å‹æ˜¯å¦ä¸ç›¸ç­‰\n\n\nassertSame\nåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡\n\n\nassertNotSame\nåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨æ˜¯å¦æŒ‡å‘ä¸åŒçš„å¯¹è±¡\n\n\nassertTrue\nåˆ¤æ–­ç»™å®šçš„å¸ƒå°”å€¼æ˜¯å¦ä¸º true\n\n\nassertFalse\nåˆ¤æ–­ç»™å®šçš„å¸ƒå°”å€¼æ˜¯å¦ä¸º false\n\n\nassertNull\nåˆ¤æ–­ç»™å®šçš„å¯¹è±¡å¼•ç”¨æ˜¯å¦ä¸º null\n\n\nassertNotNull\nåˆ¤æ–­ç»™å®šçš„å¯¹è±¡å¼•ç”¨æ˜¯å¦ä¸ä¸º null\n\n\nè¶…æ—¶æ–­è¨€ï¼šAssertions.assertTimeout() ä¸ºæµ‹è¯•æ–¹æ³•è®¾ç½®äº†è¶…æ—¶æ—¶é—´\nå¼‚å¸¸æ–­è¨€ï¼šAssertions.assertThrows() é…åˆå‡½æ•°å¼ç¼–ç¨‹ä½¿ç”¨\nå¿«é€Ÿå¤±è´¥ï¼šé€šè¿‡ fail() æ–¹æ³•ç›´æ¥ä½¿å¾—æµ‹è¯•å¤±è´¥\nç›‘æ§\nç®€ä»‹\næœªæ¥æ¯ä¸€ä¸ªå¾®æœåŠ¡åœ¨äº‘ä¸Šéƒ¨ç½²ä»¥åï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹å…¶è¿›è¡Œç›‘æ§ã€è¿½è¸ªã€å®¡è®¡ã€æ§åˆ¶ç­‰ã€‚SpringBoot å°±æŠ½å–äº† Spring Boot Actuator åœºæ™¯ï¼Œä½¿å¾—æˆ‘ä»¬æ¯ä¸ªå¾®æœåŠ¡å¿«é€Ÿå¼•ç”¨å³å¯è·å¾—ç”Ÿäº§çº§åˆ«çš„åº”ç”¨ç›‘æ§ã€å®¡è®¡ç­‰åŠŸèƒ½ã€‚\n1.x ä¸ 2.x çš„ä¸åŒï¼š\n\nä½¿ç”¨\n1234&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt;\nè®¿é—®http://localhost:8080/actuator\n\nSpring Boot Admin\ncodecentric/spring-boot-admin: Admin UI for administration of spring boot applications\nadmin-server:\n\nåˆ›å»ºadmin-serveræ¨¡å—\nå¯¼å…¥ä¾èµ–åæ ‡admin-starter-server\nåœ¨å¼•å¯¼ç±»ä¸Šå¯ç”¨ç›‘æ§åŠŸèƒ½@EnableAdminServer\n\nadmin-client:\n\n\nåˆ›å»ºadmin-clientæ¨¡å—\n\n\nå¯¼å…¥ä¾èµ–åæ ‡admin-starter-client\n\n\né…ç½®ç›¸å…³ä¿¡æ¯ï¼šserveråœ°å€ç­‰\n\n\nå¯åŠ¨serverå’ŒclientæœåŠ¡ï¼Œè®¿é—®server\n\n\n\näº‹ä»¶ä¸ç›‘å¬\nå‚è€ƒï¼š\n\nå¼ºå¤§çš„Spring Bootå¯åŠ¨ç›‘å¬å™¨äº‹ä»¶-åˆå§‹åŒ–ç³»ç»Ÿè´¦å·å¯†ç  - æ˜é‡‘\nSpringBootç›‘å¬å™¨ - æ˜é‡‘\n\nSpringApplicationEvents äº‹ä»¶ç±»å‹\n\n\nè‡ªå®šä¹‰äº‹ä»¶\nSpring çš„äº‹ä»¶ç›‘å¬æœ€ç®€å•ä½¿ç”¨ä¾‹å­ - æ˜é‡‘\n","plink":"http://www.chenyuxi.top/spring-boot/"},{"title":"æµ‹è¯•ç¬¬ä¸‰ç¯‡åšå®¢","date":"2021-10-17T14:25:03.000Z","date_formatted":{"ll":"2021å¹´10æœˆ17æ—¥","L":"2021/10/17","MM-DD":"10-17"},"updated":"2021-10-17T06:25:04.019Z","content":"","plink":"http://www.chenyuxi.top/7418c452/"},{"title":"Manjaro kde Installation Note","date":"2021-10-17T14:24:58.000Z","date_formatted":{"ll":"2021å¹´10æœˆ17æ—¥","L":"2021/10/17","MM-DD":"10-17"},"updated":"2021-10-17T06:26:23.185Z","content":"Manjaro kde Installation Note\nå‰è¨€\n\nå‡†å¤‡æŠ˜è…¾ä¸€ä¸‹Win10 + Manjaro kde åŒç³»ç»Ÿï¼Œä½†è¿˜æœªå®‰è£…å°±å¬è¯´å‘ç‰¹åˆ«å¤šï¼Œç‰¹æ­¤è®°å½•å…¨è¿‡ç¨‹ã€‚\nç¯å¢ƒï¼š\n\nUEFI + GPTå¼•å¯¼æ–¹å¼\n512 ssd + 256 ssdï¼ŒåŒç¡¬ç›˜åˆ†åˆ«å®‰è£…åŒç³»ç»Ÿã€‚\nç¥èˆŸ TX7-CT5DS\n\nå…ˆè®°å½•ä¸€ä¸‹Windowsä¸‹å¸¸ç”¨è½¯ä»¶ï¼Œæ–¹ä¾¿åœ¨å®‰è£…å®Œä¹‹åå¯¹ç…§é…ç½®Manjaroã€‚\n\nå·¥å…·\n\nSSTap\nFiddler\nEverything\nuTools\npostman\nToDesk\nSnipaste\nTypora\nDBCHM\nInternet Download Manager\n\nåº”ç”¨\n\n\nFirefox\n\n\nChrome\n\n\nWPS\n\n\nQQ\n\n\nWechat\n\n\né’‰é’‰\n\n\nç™¾åº¦ç½‘ç›˜\n\n\nQQéŸ³ä¹\n\n\nç½‘æ˜“äº‘éŸ³ä¹\n\n\nç«ç»’\n\n\næœ‰é“äº‘ç¬”è®°\n\n\næ»´ç­”æ¸…å•\n\n\nPowerShadow 8.5\n\n\nXMind ZEN\n\n\ndraw.io\n\n\nVMware\n\n\nBandicam\n\n\nBindZip\n\n\nPotPlayer\n\n\næœ‰é“è¯å…¸\n\n\nå¼€å‘\n\nSublime Text3\nVisual Studio Code\nIntelliJ IDEA 2019.2.1\nNavicat Premium 15\næ˜“è¯­è¨€ 5.7\n\nç¯å¢ƒ\n\nJDK 8\nMySQL 5.5\nPython 3\n\nå‡†å¤‡å·¥ä½œ\nç¡®ä¿æ˜¯UEFI+GPTå¯åŠ¨æ–¹å¼\nLegacyå’ŒUEFIæŒ‡çš„æ˜¯ç³»ç»Ÿå¼•å¯¼æ–¹å¼ã€‚\nLegacyä¸ºä¼ ç»ŸBIOSï¼ŒUEFIä¸ºæ–°å¼BIOSï¼ŒMBRå’ŒGPTæŒ‡çš„æ˜¯ç£ç›˜åˆ†åŒºè¡¨ç±»å‹ã€‚\nç›®å‰ä¸»æµçš„æ˜¯Legacy+MBRï¼Œ UEFI+GPTè¿™ä¸¤ç§ç»„åˆï¼Œ\nMBR+BIOS è¯¥é€€å‡ºå†å²èˆå°äº†ï¼Œ\nGPT+UEFI æ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½ä¸æ›´é«˜çš„å®‰å…¨æ€§ã€‚\nè¿™é‡Œæˆ‘åœ¨ç£ç›˜ç®¡ç†çœ‹åˆ°è¿™å—å‡†å¤‡è£…Manjaroçš„ç©ºç¡¬ç›˜æ˜¯MBRæ ¼å¼çš„ã€‚\n\näºæ˜¯åˆ é™¤å·ä¹‹åï¼Œå³é”®ç£ç›˜-è½¬ä¸ºGPTç£ç›˜ã€‚\n\næœ€åï¼Œæ–°å»ºç®€å•å·-ä¸åˆ†é…é©±åŠ¨å™¨å·æˆ–é©±åŠ¨å™¨è·¯å¾„-ä¸è¦æ ¼å¼åŒ–è¿™ä¸ªå·ã€‚\nå…³é—­å¿«é€Ÿå¯åŠ¨\nå‹¾é€‰å¿«é€Ÿå¯åŠ¨å¯èƒ½ä¼šå› ä¸ºå¼€æœºå¤ªå¿«è€Œæ— æ³•è¿›å…¥BIOSã€‚\nå‚è€ƒï¼šå…³é—­æ–¹æ³•\nå…³é—­å®‰å…¨å¯åŠ¨\nBIOS â€”&gt; System Configuration â€”&gt; Boot Options â€”&gt; Secure Boot â€”&gt; Disabled\nè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œå¦åˆ™ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼š\n\næœ‰äº›äººè¿›å…¥ BIOS ä¼šå‘ç° Secure Boot è¿™ä¸ªé€‰é¡¹æ˜¯ç°è‰²çš„ï¼Œè¿™æ—¶ä½ éœ€è¦å…ˆç»™ BIOS è®¾ä¸€ä¸ªå¯†ç ï¼Œç„¶åå°±èƒ½å…³ Secure Bootäº†ã€‚\nåŸå› å¥½åƒæ˜¯å¾®è½¯ä¸ºäº†å„æ–­ï¼Œå‚è€ƒï¼šsecure bootçš„ä½œç”¨æ˜¯ä»€ä¹ˆâ€”â€”ä¸ºä»€ä¹ˆå®‰è£…win+Manjaroéœ€è¦å…³é—­å®ƒ\nNVMeåè®®M.2æ¥å£SSDçš„å‘\n\nå¦‚æœä½ çš„ssdæ˜¯NVMeåè®®M.2çš„ï¼Œéœ€è¦åœ¨è¿›å…¥å®‰è£…ç•Œé¢ä¹‹å‰å…ˆè¿›å»BIOSé‡Œé¢ä¿®æ”¹ä»ç¡¬ç›˜çš„å¯åŠ¨å½¢å¼ï¼ŒæŠŠRAIDæ”¹æˆAHCIï¼Œä¿å­˜é€€å‡ºï¼Œå¦åˆ™è¿›å…¥å®‰è£…ç•Œé¢ä½ ä¸ä¼šçœ‹åˆ°ä½ çš„NVMeç¡¬ç›˜ï¼Œåšå¥½è¿™ä»¶äº‹å…¶ä»–å°±éƒ½å’Œæ™®é€šssdä¸€æ ·äº†ã€‚è¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œä¿®æ”¹æˆAHCIæ¨¡å¼ä¹‹åï¼Œé‡æ–°è¿›å…¥Windowsæ—¶ä¼šæœ‰é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦æ…Œï¼Œç­‰ç”µè„‘è‡ªåŠ¨é‡å¯ç¬¬ä¸‰æ¬¡çš„æ—¶å€™ï¼Œè¿›å…¥å®‰å…¨æ¨¡å¼å¯åŠ¨Windowsï¼Œè¿›å»ä¹‹åé‡å¯ç³»ç»Ÿï¼Œå†æ¬¡è¿›å…¥Windowså°±ä¸éœ€è¦å®‰å…¨æ¨¡å¼äº†\n\næš‚æ—¶æ²¡é‡åˆ°æ­¤é—®é¢˜ï¼Œå…ˆç•™ç€ï¼šhttps://zhuanlan.zhihu.com/p/114296129\nä¸‹è½½é•œåƒ\nå®˜ç½‘ï¼šhttps://manjaro.org/download/\næœ‰äººè¯´å®˜ç½‘ä¸‹è½½ç‰¹åˆ«æ…¢ï¼Œä½†æˆ‘æ˜¯åœ¨å®˜ç½‘ä¸‹è½½çš„ï¼Œæ„Ÿè§‰è¿˜å¯ã€‚\nä¸çŸ¥é“æ˜¯ä¸æ˜¯è·‘çš„SSRçš„æµé‡ï¼Œæ²¡æ³¨æ„çœ‹ã€‚\nå¤‡ç”¨ï¼šæ¸…åå¤§å­¦å¼€æºé•œåƒç½‘ç«™è¿™ä¸ªå¯èƒ½ä¼šå¿«ä¸€ç‚¹ã€‚\nå®‰è£…ç³»ç»Ÿ\nçƒ§å½•é•œåƒ\nä¸‹è½½Rufus\nå®˜ç½‘ï¼šhttp://rufus.ie/\næœ€æ–°ç‰ˆæœ¬çš„Rufuså¯èƒ½æ— æ³•é€‰æ‹©åˆ†åŒºç±»å‹ï¼Œå¯ä»¥é€‰æ‹©ä¸‹è½½ä½ç‰ˆæœ¬\nå®˜ç½‘æ²¡æ‰¾åˆ°æ—§ç‰ˆæœ¬ï¼Œæˆ‘æ˜¯åœ¨è¿™ä¸ªé“¾æ¥ï¼Œä¸‹è½½çš„3.1ç‰ˆæœ¬ã€‚\nå¼€å§‹åˆ»å½•\næ’å…¥uç›˜ï¼Œæ‰“å¼€refusã€‚\né€‰æ‹©é•œåƒï¼Œè®¾ç½®å¦‚ä¸‹ï¼š\n\nå…¶ä»–è®¾ç½®ä¸ç”¨ç®¡ï¼Œç‚¹å‡»å¼€å§‹ã€‚\næç¤ºé€‰æ‹©é•œåƒå†™å…¥æ¨¡å¼ï¼š\n\nè¿™é‡Œä¸€å®šè¦é€‰æ‹©DDæ¨¡å¼ï¼Œå¦åˆ™æ— æ³•è¿›å…¥å¼•å¯¼ã€‚\nåˆ»å½•ä¹‹åUç›˜çš„å¯è§å¤§å°ä¼šå˜å°ï¼Œè¿™ä¸ªå¯ä»¥æ¢å¤\næ¢å¤çš„æ–¹æ³•ï¼š\nä¸‹è½½ DiskGenius å…ˆåˆ é™¤Uç›˜æ‰€æœ‰åˆ†åŒºä¿å­˜æ›´æ”¹ï¼Œç„¶åæ¸…é™¤æ‰‡åŒºæ•°æ®ï¼ˆå¼€å§‹æ¸…é™¤ä¹‹åç›´æ¥å–æ¶ˆå³å¯ï¼Œä¸ç”¨ç®¡æœ‰ä»€ä¹ˆæŠ¥é”™ä¿¡æ¯ï¼‰ï¼Œä¹‹åæ ¼å¼åŒ–ã€‚\nç›´æ¥æ ¼å¼åŒ–ä¼šå¤±è´¥ï¼Œå¿…é¡»å…ˆæ¸…é™¤æ‰‡åŒºæ•°æ®ã€‚\nå¼€å§‹å®‰è£…\nwin10è®¾ç½®-&gt;æ›´æ–°å’Œå®‰å…¨-&gt;æ¢å¤-&gt;ç«‹å³é‡æ–°å¯åŠ¨ã€‚\né€‰æ‹©ä»uç›˜å¯åŠ¨ã€‚\nè¿™æ—¶ç”µè„‘é‡å¯åä¼šè¿›å…¥manjaro livedã€‚\nå®‰è£…è¿‡ç¨‹googleä¸€æœä¸€å¤§æŠŠï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸‹ä¸€æ­¥ï¼Œè¿™é‡Œå› ä¸ºä»…åšä¸ªäººç³»ç»Ÿé…ç½®ç¬”è®°ï¼Œæ‰€ä»¥ä¸å†èµ˜è¿°ã€‚\nè¦æ³¨æ„çš„æœ‰ä¸¤ç‚¹\nç¬¬ä¸€ç‚¹æ˜¯è¿›å…¥livedå‰çš„åˆ—è¡¨çš„æ˜¾å¡é©±åŠ¨é€‰æ‹©ï¼ˆfreeå’Œnofnreeï¼‰ã€‚\nä»¥ä¸ºæˆ‘æœ¬å­ç‹¬æ˜¾æ˜¯NVIDIAï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©çš„æ˜¯nonfree (è®©ç³»ç»Ÿè‡ªåŠ¨å®‰è£…åˆé€‚çš„é—­æºé©±åŠ¨)ã€‚\nå¯ä»¥å‚è€ƒï¼š\n\n\nCPU\næ˜¾å¡\né€‰æ‹©\n\n\n\n\nIntel\næ— ç‹¬æ˜¾\nfree\n\n\nAMD\næ— ç‹¬æ˜¾\nfree\n\n\nAMD\nNVIDIA\nno free\n\n\nIntel\nAMD\nfree\n\n\nIntel\nNVIDIA\nno free\n\n\nç¬¬äºŒç‚¹æ˜¯åˆ†åŒº\n\n\næŒ‚è½½ç‚¹\næ–‡ä»¶ç³»ç»Ÿ\nå¤§å°\næ ‡è®°\nå¤‡æ³¨\n\n\n\n\n\nlinuxswap\n4GiB\nswap\nå†…å­˜äº¤æ¢ç©ºé—´\n\n\n/boot/efi\nFAT32\n512MiB\nboot\nå­˜æ”¾UEFIå¼•å¯¼æ–‡ä»¶\n\n\n/\next4\nthe rest\nroot\nç›¸å½“äºæ ¹ç›®å½•\n\n\nå†…å­˜äº¤æ¢ç©ºé—´ï¼Œç›¸å½“äºwindowsä¸‹è™šæ‹Ÿå†…å­˜pagefile.sysï¼Œä½œç”¨æ˜¯å†…å­˜ä¸è¶³æ—¶ç”¨ç¡¬ç›˜æ¨¡æ‹Ÿå†…å­˜ï¼Œæ€§èƒ½ä¹Ÿæ˜¯å¯æƒ³è€ŒçŸ¥â€¦ï¼Œç°åœ¨å†…å­˜16gbåŠä»¥ä¸Šçš„åŸºæœ¬å¯ä»¥ä¸ç”¨äº†ï¼Œä½†æˆ‘è¿™é‡Œè¿˜æ˜¯ä¿é™©èµ·è§è®¾ç½®äº†4gã€‚\nå®‰è£…å®Œåä¼šè¿›å…¥Manjaroçš„Grubå¼•å¯¼ç•Œé¢ï¼Œå¯ä»¥é€‰æ‹©è¿›å…¥å“ªä¸€ä¸ªç³»ç»Ÿã€‚\n\n\nè‡³æ­¤ï¼Œ Manjaro å·²å®‰è£…å®Œæˆäº†ï¼Œä½†æŠ˜è…¾æ‰åˆšåˆšå¼€å§‹â€¦\n\né…ç½®ç³»ç»Ÿ\né—®é¢˜è®°å½•\n\néƒ¨åˆ†ç³»ç»Ÿä¹ æƒ¯æ€§è®¾ç½®åŠè¸©å‘è®°å½•\n\nè§¦æ‘¸æ¿\nè®¾ç½®-è¾“å…¥è®¾å¤‡-è§¦æ‘¸æ¿-å‹¾é€‰åå‘æ»šåŠ¨\n1æš‚æœªè§£å†³ï¼šè§¦æ‘¸æ¿åªèƒ½åœ¨è®¾ç½®é‡Œé¢ç¦ç”¨è€Œæ— æ³•é€šè¿‡é”®ç›˜å¿«æ·é”®Fnå¼€å…³ã€‚\né”®ç›˜èƒŒå…‰æ— æ³•è°ƒèŠ‚\n1æš‚æœªè§£å†³\nå¯åŠ¨å¼€NumLock\nè®¾ç½®-è¾“å…¥è®¾å¤‡-é”®ç›˜-Plasmaå¯åŠ¨æ—¶NumlockçŠ¶æ€-å¼€å¯\néŸ³é¢‘æ•°å­—çº¢ç¯\n1æš‚æœªè§£å†³\nä½¿ Kwin æœ€é«˜144hz\nè¿™ä¸ªæŠ˜è…¾äº†å¾ˆä¹…ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæ˜¯æ˜¾å¡é©±åŠ¨çš„é—®é¢˜ï¼Œç–¯ç‹‚è¸©å‘ï¼Œç›´åˆ°æ‰¾åˆ°è¿™ç¯‡å¸–å­â€¦\n\nå³ä½¿æ˜¾ç¤ºå™¨æœ¬èº«å·²æ­£ç¡®è®¾ç½®ä¸º144Hzï¼ŒKWinä»æ‹’ç»ä»¥è¯¥åˆ·æ–°ç‡è‡ªåŠ¨è¿è¡Œã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºæ…¢é€Ÿ60Hzï¼Œæ‰€ä»¥ç°åœ¨æ‚¨æœ‰äº†ä¸€ä¸ªåˆæˆå™¨ï¼Œå®ƒåœ¨ä»¥144Hzåˆ·æ–°çš„ç›‘è§†å™¨ä¸Šä»¥60Hzåˆ·æ–°ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ä½“éªŒï¼Œå°¤å…¶æ˜¯åœ¨å¸§å®šæ—¶æ–¹é¢ã€‚æˆ‘æäº¤äº†é”™è¯¯395632ï¼Œå°½ç®¡ä¸å¼€å‘äººå‘˜è¿›è¡Œäº†ä¸€äº›æ²Ÿé€šï¼Œä½†æˆ‘è®¤ä¸ºä»–ä»¬ä»æ­¤å¯¹é”™è¯¯å¤±å»äº†å…´è¶£å¹¶åœæ­¢äº†å“åº”ã€‚\nEven though the monitor itself gets set properly to 144Hz, KWin refuses to automatically run at that refresh rate. It will default to a slow 60Hz, so now you have a compositor thatâ€™s refreshing at 60Hz on a monitor thatâ€™s refreshing at 144Hz, which isnâ€™t a good experience, especially in regards to frame timing. Iâ€™ve filed bug 395632 and while there was some communication with the devs, I believe theyâ€™ve since lost interest in the bug and stopped responding.\n\n**è§£å†³æ–¹æ³•ï¼š**æ·»åŠ MaxFPS=144åˆ°~/.config/kwinrcçš„[Compositing]ä¸‹ã€‚\nå‚è€ƒï¼šhttps://www.reddit.com/r/kde/comments/brsmqc/gnome_still_handles_highrefresh_rate_monitors/\næ—¶é—´æ ¡æ­£åŠåŒç³»ç»Ÿæ—¶é—´åŒæ­¥\næ—¶é—´æ ¡æ­£ï¼šç›´æ¥åœ¨ç³»ç»Ÿæ—¶é—´è®¾ç½®é‡Œé¢å¼€å¯è‡ªåŠ¨å¯¹æ—¶ã€‚\nåŒç³»ç»Ÿæ—¶é—´åŒæ­¥ï¼š\n12timedatectl set-local-rtc trueæš‚æ—¶æ²¡é‡åˆ°ï¼Œå ä½ã€‚\nè€—ç”µé«˜\n1å¾…è¿›ä¸€æ­¥éªŒè¯åŠè§£å†³\né£æ‰‡ä¸€ç›´è½¬\n1å¾…è¿›ä¸€æ­¥éªŒè¯åŠè§£å†³\nå®‰è£…è½¯ä»¶\né€‰æ‹©ä¸­å›½æºå¹¶æ›´æ–°\n12sudo pacman-mirrors -i -c China -m rankselect -&gt; https://mirrors.ustc.edu.cn/    \næ›´æ–°ç³»ç»Ÿ\n1sudo pacman -Syyu\nyay\n1sudo pacman -Sy yay\nä¸­æ–‡è¾“å…¥æ³•\n12345678910111213141516sudo pacman -Sy fcitxsudo pacman -Sy fcitx-configtoolyay fcitx-googlepinyin    é”™è¯¯ï¼š Cannot find the strip binary required for object file stripping.     è§£å†³æ–¹æ³•ï¼šå› ä¸ºæ²¡å®‰è£… fakerootã€binutils ç­‰æ‰“åŒ…åŸºæœ¬å·¥å…·ï¼Œæ‰€ä»¥sudo pacman -S base-devel è£…ä¸€ä¸‹ã€‚    yay fcitx-qt4æ·»åŠ è¾“å…¥æ³•é…ç½®æ–‡ä»¶sudo nano ~/.xprofileåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹export GTK_IM_MODULE=fcitxexport QT_IM_MODULE=fcitxexport XMODIFIERS=&quot;@im=fcitx&quot;æ³¨é”€ç³»ç»Ÿ\nqv2ary\n123yay qv2rayé…ç½®v2ray-coreï¼šhttps://qv2ray.net/getting-started/step2.htmlé…ç½®SSRæ’ä»¶ï¼šhttps://qv2ray.net/plugins/usage.html\ntypora\n1yay typora\nGoogle-Chrome\n1yay -S google-chrome\nç½‘æ˜“äº‘éŸ³ä¹\n1yay -S netease-cloud-music\nç³»ç»Ÿç¾åŒ–\næ¡Œé¢ç‰¹æ•ˆ\n\né­”ç¯\næ‘†åŠ¨çª—å£\nå…³é—­æ˜¾ç¤ºæ¡Œé¢åŠ¨ç”»\næ¨¡ç³Š - æ¨¡ç³Šå¼ºåº¦60% - å™ªç‚¹0%\n\nKwinè„šæœ¬\nä¸‹è½½å¯ç”¨Force Blur ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ\nDock\n12345678910è½¯ä»¶å•†åº—æœç´¢ä¸‹è½½ latte-dock-gitå‹¾é€‰ç¡®å®šä¸‹è½½å¸ƒå±€ï¼šhttps://www.pling.com/p/1399346mcOS-BS-Large.layout.latte.zipmacOS-BS-Extra-Icons.zip\nå‚è€ƒé“¾æ¥\nwin10ç¯å¢ƒä¸‹å®‰è£…manjaro kdeï¼ˆåŒç³»ç»Ÿï¼‰- Jaywhenxiang\n","plink":"http://www.chenyuxi.top/Manjaro-kde-Installation-Note/"},{"title":"æµ‹è¯•ç¬¬äºŒç¯‡åšå®¢","date":"2021-10-17T14:24:58.000Z","date_formatted":{"ll":"2021å¹´10æœˆ17æ—¥","L":"2021/10/17","MM-DD":"10-17"},"updated":"2021-10-17T06:26:27.986Z","content":"","plink":"http://www.chenyuxi.top/ca5db6d7/"},{"title":"æµ‹è¯•ç¬¬ä¸€ç¯‡åšå®¢","date":"2021-10-17T14:24:48.000Z","date_formatted":{"ll":"2021å¹´10æœˆ17æ—¥","L":"2021/10/17","MM-DD":"10-17"},"updated":"2021-10-17T06:24:48.829Z","content":"","plink":"http://www.chenyuxi.top/880def98/"},{"title":"Hello World","date":"2021-10-16T19:37:26.759Z","date_formatted":{"ll":"2021å¹´10æœˆ16æ—¥","L":"2021/10/16","MM-DD":"10-16"},"updated":"2021-10-16T17:09:32.519Z","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.:rocket:\nQuick Start\nCreate a new post\n1$ hexo new &quot;My New Post&quot;\nMore info: Writing\nRun server\n1$ hexo server\nMore info: Server\nGenerate static files\n1$ hexo generate\nMore info: Generating\nDeploy to remote sites\n1$ hexo deploy\nMore info: Deployment\n","plink":"http://www.chenyuxi.top/4a17b156/"}]